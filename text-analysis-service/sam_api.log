2025-12-19 15:03:02,202 | No config file found in this directory.
2025-12-19 15:03:02,202 | OSError occurred while reading TOML file: [Errno 2] No such file or directory: '/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/samconfig.toml'
2025-12-19 15:03:02,202 | Config file location: /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/samconfig.toml
2025-12-19 15:03:02,202 | Config file '/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/samconfig.toml' does not exist
2025-12-19 15:03:02,236 | OSError occurred while reading TOML file: [Errno 2] No such file or directory: '/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/samconfig.toml'
2025-12-19 15:03:02,237 | Using config file: samconfig.toml, config environment: default
2025-12-19 15:03:02,237 | Expand command line arguments to:
2025-12-19 15:03:02,237 | --template_file=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/template.yaml --port=3000 --env_vars=local-env-vars.json --parameter_overrides={'HoneycombApiKey': '9Qe2fgFC5c63RfuDjYuhRT'} --warm_containers=EAGER --host=127.0.0.1 --static_dir=public --layer_cache_basedir=/home/anton/.aws-sam/layers-pkg --container_host=localhost --container_host_interface=127.0.0.1 
2025-12-19 15:03:02,251 | local start-api command is called
2025-12-19 15:03:04,161 | Collected default values for parameters: {'HoneycombApiKey': 'replace-me', 'OtelServiceName': 'text-analysis-service', 'OtelExporterEndpoint': 'https://api.honeycomb.io'}
2025-12-19 15:03:04,189 | Sam customer defined id is more priority than other IDs. Customer defined id for resource TextAnalysisFunction is TextAnalysisFunction
2025-12-19 15:03:04,189 | There is no customer defined id or cdk path defined for resource ServerlessRestApi, so we will use the resource logical id as the resource id
2025-12-19 15:03:04,191 | 0 stacks found in the template
2025-12-19 15:03:04,191 | Collected default values for parameters: {'HoneycombApiKey': 'replace-me', 'OtelServiceName': 'text-analysis-service', 'OtelExporterEndpoint': 'https://api.honeycomb.io'}
2025-12-19 15:03:04,216 | Sam customer defined id is more priority than other IDs. Customer defined id for resource TextAnalysisFunction is TextAnalysisFunction
2025-12-19 15:03:04,216 | There is no customer defined id or cdk path defined for resource ServerlessRestApi, so we will use the resource logical id as the resource id
2025-12-19 15:03:04,217 | 2 resources found in the stack 
2025-12-19 15:03:04,217 | Found Serverless function with name='TextAnalysisFunction' and CodeUri='TextAnalysisFunction'
2025-12-19 15:03:04,217 | --base-dir is not presented, adjusting uri TextAnalysisFunction relative to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/template.yaml
2025-12-19 15:03:04,218 | watch resource /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/template.yaml
2025-12-19 15:03:04,218 | Create Observer for resource /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/template.yaml with recursive True
2025-12-19 15:03:04,218 | watch resource /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/template.yaml's parent /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build
2025-12-19 15:03:04,218 | Create Observer for resource /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build with recursive False
2025-12-19 15:03:04,219 | ContainerClientFactory.create_client() called
2025-12-19 15:03:04,219 | Admin preference: None
2025-12-19 15:03:04,219 | Using auto-detected client creation
2025-12-19 15:03:04,219 | Trying Docker client creation
2025-12-19 15:03:04,219 | Creating Docker container client from environment variable.
2025-12-19 15:03:04,219 | Creating container client with parameters: {'version': '1.35'}
2025-12-19 15:03:04,219 | DockerContainerClient created successfully
2025-12-19 15:03:04,222 | Fall back docker api version to 1.44: 400 Client Error for http+docker://localhost/v1.35/_ping: Bad Request ("client version 1.35 is too old. Minimum supported API version is 1.44, please upgrade your client to a newer version")
2025-12-19 15:03:04,226 | Docker daemon check succeeded with fallback: 400 Client Error for http+docker://localhost/v1.35/_ping: Bad Request ("client version 1.35 is too old. Minimum supported API version is 1.44, please upgrade your client to a newer version")
2025-12-19 15:03:04,226 | Using Docker as Container Engine.
2025-12-19 15:03:04,226 | Set global container socket path: container_socket_path=
2025-12-19 15:03:04,226 | Initializing the lambda functions containers.
2025-12-19 15:03:04,227 | Async execution started
2025-12-19 15:03:04,227 | Invoking function functools.partial(<function InvokeContext._initialize_all_functions_containers.<locals>.initialize_function_container at 0x7ea73106ade0>, Function(function_id='TextAnalysisFunction', name='TextAnalysisFunction', functionname='TextAnalysisFunction', runtime='python3.13', memory=1024, timeout=30, handler='functions/text_analysis/handler.lambda_handler', imageuri=None, packagetype='Zip', imageconfig=None, codeuri='/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction', environment={'Variables': {'LOG_LEVEL': 'INFO', 'OTEL_SERVICE_NAME': 'text-analysis-service', 'OTEL_EXPORTER_OTLP_ENDPOINT': 'https://api.honeycomb.io', 'OTEL_EXPORTER_OTLP_HEADERS': 'x-honeycomb-team=9Qe2fgFC5c63RfuDjYuhRT'}}, rolearn=None, layers=[], events={'ApiEvent': {'Type': 'Api', 'Properties': {'Path': '/analyze', 'Method': 'POST', 'RestApiId': 'ServerlessRestApi'}}}, metadata={'SamResourceId': 'TextAnalysisFunction'}, inlinecode=None, codesign_config_arn=None, architectures=['x86_64'], function_url_config=None, function_build_info=<FunctionBuildInfo.BuildableZip: ('BuildableZip', 'Regular ZIP function which can be build with SAM CLI')>, stack_path='', runtime_management_config=None, logging_config={'LogFormat': 'JSON'}, tenancy_config=None, durable_config=None, capacity_provider_config=None, publish_to_latest_published=None))
2025-12-19 15:03:04,227 | Waiting for async results
2025-12-19 15:03:04,228 | ContainerClientFactory.create_client() called
2025-12-19 15:03:04,228 | Admin preference: None
2025-12-19 15:03:04,228 | Using auto-detected client creation
2025-12-19 15:03:04,228 | Trying Docker client creation
2025-12-19 15:03:04,228 | Creating Docker container client from environment variable.
2025-12-19 15:03:04,228 | Creating container client with parameters: {'version': '1.35'}
2025-12-19 15:03:04,229 | DockerContainerClient created successfully
2025-12-19 15:03:04,231 | Fall back docker api version to 1.44: 400 Client Error for http+docker://localhost/v1.35/_ping: Bad Request ("client version 1.35 is too old. Minimum supported API version is 1.44, please upgrade your client to a newer version")
2025-12-19 15:03:04,234 | Docker daemon check succeeded with fallback: 400 Client Error for http+docker://localhost/v1.35/_ping: Bad Request ("client version 1.35 is too old. Minimum supported API version is 1.44, please upgrade your client to a newer version")
2025-12-19 15:03:04,234 | Using Docker as Container Engine.
2025-12-19 15:03:04,234 | Set global container socket path: container_socket_path=
2025-12-19 15:03:04,238 | Environment variables data found for specific function in standard format
2025-12-19 15:03:04,238 | Loading AWS credentials from session with profile 'None'
2025-12-19 15:03:04,252 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:04,252 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:04,252 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:04,252 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:20,665 | watch resource /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:20,665 | Create Observer for resource /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction with recursive True
2025-12-19 15:03:20,862 | watch resource /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction's parent /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build
2025-12-19 15:03:20,863 | Code /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction is not a zip/jar file
2025-12-19 15:03:20,863 | ContainerClientFactory.create_client() called
2025-12-19 15:03:20,863 | Admin preference: None
2025-12-19 15:03:20,863 | Using auto-detected client creation
2025-12-19 15:03:20,863 | Trying Docker client creation
2025-12-19 15:03:20,863 | Creating Docker container client from environment variable.
2025-12-19 15:03:20,864 | Creating container client with parameters: {'version': '1.35'}
2025-12-19 15:03:20,864 | DockerContainerClient created successfully
2025-12-19 15:03:20,887 | Fall back docker api version to 1.44: 400 Client Error for http+docker://localhost/v1.35/_ping: Bad Request ("client version 1.35 is too old. Minimum supported API version is 1.44, please upgrade your client to a newer version")
2025-12-19 15:03:20,909 | Docker daemon check succeeded with fallback: 400 Client Error for http+docker://localhost/v1.35/_ping: Bad Request ("client version 1.35 is too old. Minimum supported API version is 1.44, please upgrade your client to a newer version")
2025-12-19 15:03:20,909 | Using Docker as Container Engine.
2025-12-19 15:03:20,910 | Set global container socket path: container_socket_path=
2025-12-19 15:03:26,848 | Local image is up-to-date
2025-12-19 15:03:26,852 | Checking free port on 127.0.0.1:6661
2025-12-19 15:03:26,854 | Using local image: public.ecr.aws/lambda/python:3.13-rapid-x86_64.

2025-12-19 15:03:26,855 | Mounting /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction as /var/task:ro,delegated, inside runtime container
2025-12-19 15:03:26,855 | ContainerClientFactory.create_client() called
2025-12-19 15:03:26,855 | Admin preference: None
2025-12-19 15:03:26,855 | Using auto-detected client creation
2025-12-19 15:03:26,855 | Trying Docker client creation
2025-12-19 15:03:26,855 | Creating Docker container client from environment variable.
2025-12-19 15:03:26,856 | Creating container client with parameters: {'version': '1.35'}
2025-12-19 15:03:26,856 | DockerContainerClient created successfully
2025-12-19 15:03:26,858 | Fall back docker api version to 1.44: 400 Client Error for http+docker://localhost/v1.35/_ping: Bad Request ("client version 1.35 is too old. Minimum supported API version is 1.44, please upgrade your client to a newer version")
2025-12-19 15:03:26,861 | Docker daemon check succeeded with fallback: 400 Client Error for http+docker://localhost/v1.35/_ping: Bad Request ("client version 1.35 is too old. Minimum supported API version is 1.44, please upgrade your client to a newer version")
2025-12-19 15:03:26,861 | Using Docker as Container Engine.
2025-12-19 15:03:26,862 | Set global container socket path: container_socket_path=
2025-12-19 15:03:27,426 | SAM_CONTAINER_ID: 963cf3748525c4ede7164f765558b0a06078a4718dba40f868f8d66d285f5d05
2025-12-19 15:03:27,426 | Initialized container 963cf3748525c4ede7164f765558b0a06078a4718dba40f868f8d66d285f5d05 with max_concurrency=1
2025-12-19 15:03:27,631 | Async execution completed
2025-12-19 15:03:27,632 | Containers created. Waiting for readiness...
2025-12-19 15:03:27,632 | Initialized container IDs: ['963cf3748525c4ede7164f765558b0a06078a4718dba40f868f8d66d285f5d05']
2025-12-19 15:03:27,632 | Waiting for 1 containers to be running...
2025-12-19 15:03:27,632 | ContainerClientFactory.create_client() called
2025-12-19 15:03:27,632 | Admin preference: None
2025-12-19 15:03:27,632 | Using auto-detected client creation
2025-12-19 15:03:27,632 | Trying Docker client creation
2025-12-19 15:03:27,632 | Creating Docker container client from environment variable.
2025-12-19 15:03:27,632 | Creating container client with parameters: {'version': '1.35'}
2025-12-19 15:03:27,633 | DockerContainerClient created successfully
2025-12-19 15:03:27,636 | Fall back docker api version to 1.44: 400 Client Error for http+docker://localhost/v1.35/_ping: Bad Request ("client version 1.35 is too old. Minimum supported API version is 1.44, please upgrade your client to a newer version")
2025-12-19 15:03:27,639 | Docker daemon check succeeded with fallback: 400 Client Error for http+docker://localhost/v1.35/_ping: Bad Request ("client version 1.35 is too old. Minimum supported API version is 1.44, please upgrade your client to a newer version")
2025-12-19 15:03:27,639 | Using Docker as Container Engine.
2025-12-19 15:03:27,639 | Set global container socket path: container_socket_path=
2025-12-19 15:03:27,642 | All 1 containers running after 0.0 seconds
2025-12-19 15:03:27,642 | All containers are ready.
2025-12-19 15:03:27,642 | Found '1' API Events in Serverless function with name 'TextAnalysisFunction'
2025-12-19 15:03:27,642 | Detected Inline Swagger definition
2025-12-19 15:03:27,642 | Parsing Swagger document using 2.0 specification
2025-12-19 15:03:27,643 | Found '0' authorizers in resource 'ServerlessRestApi'
2025-12-19 15:03:27,643 | Lambda function integration not found in Swagger document at path='/analyze' method='post'
2025-12-19 15:03:27,643 | Found '0' APIs in resource 'ServerlessRestApi'
2025-12-19 15:03:27,643 | Authorizer not found or disabled, returning early
2025-12-19 15:03:27,643 | Removed duplicates from '0' Explicit APIs and '1' Implicit APIs to produce '1' APIs
2025-12-19 15:03:27,643 | 1 APIs found in the template
2025-12-19 15:03:27,645 | Mounting TextAnalysisFunction at http://127.0.0.1:3000/analyze [POST]
2025-12-19 15:03:27,645 | You can now browse to the above endpoints to invoke your functions. You do not need to restart/reload SAM CLI while working on your functions, changes will be reflected instantly/automatically. If you used sam build before running local commands, you will need to re-run sam build for the changes to be picked up. You only need to restart SAM CLI if you update your AWS SAM template
2025-12-19 15:03:27,646 | Localhost server is starting up. Multi-threading = True
2025-12-19 15:03:27,646 | Setting SIGTERM interrupt handler
 * Tip: There are .env files present. Install python-dotenv to use them.
2025-12-19 15:03:27 [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on http://127.0.0.1:3000
2025-12-19 15:03:27 [33mPress CTRL+C to quit[0m
2025-12-19 15:03:33 127.0.0.1 - - [19/Dec/2025 15:03:33] "[31m[1mGET / HTTP/1.1[0m" 403 -
2025-12-19 15:03:38 127.0.0.1 - - [19/Dec/2025 15:03:38] "[31m[1mOPTIONS /analyze HTTP/1.1[0m" 403 -
2025-12-19 15:03:38,298 | Constructed Event 1.0 to invoke Lambda. Event: {'httpMethod': 'POST', 'body': '{"surveyTitle": "Food Delivery App Feedback", "theme": "customer experience", "baseline": [{"sentence": "The delivery was late by 30 minutes", "id": "feedback-001"}, {"sentence": "Food arrived cold and soggy", "id": "feedback-002"}, {"sentence": "Driver was friendly and professional", "id": "feedback-003"}, {"sentence": "App interface is confusing to navigate", "id": "feedback-004"}, {"sentence": "Prices are too high compared to competitors", "id": "feedback-005"}]}', 'resource': '/analyze', 'requestContext': {'resourceId': '123456', 'apiId': '1234567890', 'resourcePath': '/analyze', 'httpMethod': 'POST', 'requestId': '9458ed69-669a-4bc6-a4d4-d64628446719', 'accountId': '123456789012', 'stage': 'Prod', 'identity': {'apiKey': None, 'userArn': None, 'cognitoAuthenticationType': None, 'caller': None, 'userAgent': 'Custom User Agent String', 'user': None, 'cognitoIdentityPoolId': None, 'cognitoAuthenticationProvider': None, 'sourceIp': '127.0.0.1', 'accountId': None}, 'extendedRequestId': None, 'path': '/analyze', 'protocol': 'HTTP/1.1', 'domainName': '127.0.0.1:3000', 'requestTimeEpoch': 1766109782250, 'requestTime': '19/Dec/2025:02:03:02 +0000'}, 'queryStringParameters': None, 'multiValueQueryStringParameters': None, 'headers': {'Host': '127.0.0.1:3000', 'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '470', 'X-Forwarded-Proto': 'http', 'X-Forwarded-Port': '3000'}, 'multiValueHeaders': {'Host': ['127.0.0.1:3000'], 'User-Agent': ['python-requests/2.32.5'], 'Accept-Encoding': ['gzip, deflate'], 'Accept': ['*/*'], 'Connection': ['keep-alive'], 'Content-Type': ['application/json'], 'Content-Length': ['470'], 'X-Forwarded-Proto': ['http'], 'X-Forwarded-Port': ['3000']}, 'pathParameters': None, 'stageVariables': None, 'path': '/analyze', 'isBase64Encoded': False}
2025-12-19 15:03:38,299 | Found one Lambda function with name 'TextAnalysisFunction'
2025-12-19 15:03:38,299 | Invoking functions/text_analysis/handler.lambda_handler (python3.13)
2025-12-19 15:03:38,299 | Environment variables data found for specific function in standard format
2025-12-19 15:03:38,299 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:38,299 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:38,299 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:38,299 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:38,305 | Lambda function 'TextAnalysisFunction' is already running
2025-12-19 15:03:38,307 | Starting a timer for 30 seconds for function 'TextAnalysisFunction'
2025-12-19 15:03:38,308 | Container-963cf3748525 (concurrency available: 1/1) - ALLOWED for request ({"body": "{\"surveyTitle\": \"Food Delivery App Feedback\", \"theme\": \"customer experience\", \"baseline\": [{\"sentence\": \"The delivery was late by 30 minutes\", \"id\": \"feedback-001\"}, {\"sentence\": \"Food arrived cold and soggy\", \"id\": \"feedback-002\"}, {\"sentence\": \"Driver was friendly and professional\", \"id\": \"feedback-003\"}, {\"sentence\": \"App interface is confusing to navigate\", \"id\": \"feedback-004\"}, {\"sentence\": \"Prices are too high compared to competitors\", \"id\": \"feedback-005\"}]}", "headers": {"Accept": "*/*", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive", "Content-Length": "470", "Content-Type": "application/json", "Host": "127.0.0.1:3000", "User-Agent": "python-requests/2.32.5", "X-Forwarded-Port": "3000", "X-Forwarded-Proto": "http"}, "httpMethod": "POST", "isBase64Encoded": false, "multiValueHeaders": {"Accept": ["*/*"], "Accept-Encoding": ["gzip, deflate"], "Connection": ["keep-alive"], "Content-Length": ["470"], "Content-Type": ["application/json"], "Host": ["127.0.0.1:3000"], "User-Agent": ["python-requests/2.32.5"], "X-Forwarded-Port": ["3000"], "X-Forwarded-Proto": ["http"]}, "multiValueQueryStringParameters": null, "path": "/analyze", "pathParameters": null, "queryStringParameters": null, "requestContext": {"accountId": "123456789012", "apiId": "1234567890", "domainName": "127.0.0.1:3000", "extendedRequestId": null, "httpMethod": "POST", "identity": {"accountId": null, "apiKey": null, "caller": null, "cognitoAuthenticationProvider": null, "cognitoAuthenticationType": null, "cognitoIdentityPoolId": null, "sourceIp": "127.0.0.1", "user": null, "userAgent": "Custom User Agent String", "userArn": null}, "path": "/analyze", "protocol": "HTTP/1.1", "requestId": "9458ed69-669a-4bc6-a4d4-d64628446719", "requestTime": "19/Dec/2025:02:03:02 +0000", "requestTimeEpoch": 1766109782250, "resourceId": "123456", "resourcePath": "/analyze", "stage": "Prod"}, "resource": "/analyze", "stageVariables": null})
START RequestId: d8eb2f20-5df4-479c-9288-bb4e69dd776b Version: $LATEST
2025-12-19 15:03:48,504 | Constructed Event 1.0 to invoke Lambda. Event: {'httpMethod': 'POST', 'body': '{"surveyTitle": "Food Delivery App Feedback", "theme": "customer experience", "baseline": [{"sentence": "The delivery was late by 30 minutes", "id": "feedback-001"}, {"sentence": "Food arrived cold and soggy", "id": "feedback-002"}, {"sentence": "Driver was friendly and professional", "id": "feedback-003"}, {"sentence": "App interface is confusing to navigate", "id": "feedback-004"}, {"sentence": "Prices are too high compared to competitors", "id": "feedback-005"}], "comparison": [{"sentence": "Delivery is always on time now", "id": "feedback-101"}, {"sentence": "Food arrives hot and fresh", "id": "feedback-102"}, {"sentence": "Drivers are rude sometimes", "id": "feedback-103"}, {"sentence": "App interface improved significantly", "id": "feedback-104"}, {"sentence": "Prices increased again", "id": "feedback-105"}]}', 'resource': '/analyze', 'requestContext': {'resourceId': '123456', 'apiId': '1234567890', 'resourcePath': '/analyze', 'httpMethod': 'POST', 'requestId': '9458ed69-669a-4bc6-a4d4-d64628446719', 'accountId': '123456789012', 'stage': 'Prod', 'identity': {'apiKey': None, 'userArn': None, 'cognitoAuthenticationType': None, 'caller': None, 'userAgent': 'Custom User Agent String', 'user': None, 'cognitoIdentityPoolId': None, 'cognitoAuthenticationProvider': None, 'sourceIp': '127.0.0.1', 'accountId': None}, 'extendedRequestId': None, 'path': '/analyze', 'protocol': 'HTTP/1.1', 'domainName': '127.0.0.1:3000', 'requestTimeEpoch': 1766109782250, 'requestTime': '19/Dec/2025:02:03:02 +0000'}, 'queryStringParameters': None, 'multiValueQueryStringParameters': None, 'headers': {'Host': '127.0.0.1:3000', 'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '826', 'X-Forwarded-Proto': 'http', 'X-Forwarded-Port': '3000'}, 'multiValueHeaders': {'Host': ['127.0.0.1:3000'], 'User-Agent': ['python-requests/2.32.5'], 'Accept-Encoding': ['gzip, deflate'], 'Accept': ['*/*'], 'Connection': ['keep-alive'], 'Content-Type': ['application/json'], 'Content-Length': ['826'], 'X-Forwarded-Proto': ['http'], 'X-Forwarded-Port': ['3000']}, 'pathParameters': None, 'stageVariables': None, 'path': '/analyze', 'isBase64Encoded': False}
2025-12-19 15:03:48,504 | Found one Lambda function with name 'TextAnalysisFunction'
2025-12-19 15:03:48,504 | Invoking functions/text_analysis/handler.lambda_handler (python3.13)
2025-12-19 15:03:48,504 | Environment variables data found for specific function in standard format
2025-12-19 15:03:48,504 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:48,504 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:48,504 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:48,504 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:48,512 | Lambda function 'TextAnalysisFunction' is already running
2025-12-19 15:03:48,512 | Starting a timer for 30 seconds for function 'TextAnalysisFunction'
2025-12-19 15:03:48,513 | Container-963cf3748525 (concurrency available: 0/1) - QUEUED for request ({"body": "{\"surveyTitle\": \"Food Delivery App Feedback\", \"theme\": \"customer experience\", \"baseline\": [{\"sentence\": \"The delivery was late by 30 minutes\", \"id\": \"feedback-001\"}, {\"sentence\": \"Food arrived cold and soggy\", \"id\": \"feedback-002\"}, {\"sentence\": \"Driver was friendly and professional\", \"id\": \"feedback-003\"}, {\"sentence\": \"App interface is confusing to navigate\", \"id\": \"feedback-004\"}, {\"sentence\": \"Prices are too high compared to competitors\", \"id\": \"feedback-005\"}], \"comparison\": [{\"sentence\": \"Delivery is always on time now\", \"id\": \"feedback-101\"}, {\"sentence\": \"Food arrives hot and fresh\", \"id\": \"feedback-102\"}, {\"sentence\": \"Drivers are rude sometimes\", \"id\": \"feedback-103\"}, {\"sentence\": \"App interface improved significantly\", \"id\": \"feedback-104\"}, {\"sentence\": \"Prices increased again\", \"id\": \"feedback-105\"}]}", "headers": {"Accept": "*/*", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive", "Content-Length": "826", "Content-Type": "application/json", "Host": "127.0.0.1:3000", "User-Agent": "python-requests/2.32.5", "X-Forwarded-Port": "3000", "X-Forwarded-Proto": "http"}, "httpMethod": "POST", "isBase64Encoded": false, "multiValueHeaders": {"Accept": ["*/*"], "Accept-Encoding": ["gzip, deflate"], "Connection": ["keep-alive"], "Content-Length": ["826"], "Content-Type": ["application/json"], "Host": ["127.0.0.1:3000"], "User-Agent": ["python-requests/2.32.5"], "X-Forwarded-Port": ["3000"], "X-Forwarded-Proto": ["http"]}, "multiValueQueryStringParameters": null, "path": "/analyze", "pathParameters": null, "queryStringParameters": null, "requestContext": {"accountId": "123456789012", "apiId": "1234567890", "domainName": "127.0.0.1:3000", "extendedRequestId": null, "httpMethod": "POST", "identity": {"accountId": null, "apiKey": null, "caller": null, "cognitoAuthenticationProvider": null, "cognitoAuthenticationType": null, "cognitoIdentityPoolId": null, "sourceIp": "127.0.0.1", "user": null, "userAgent": "Custom User Agent String", "userArn": null}, "path": "/analyze", "protocol": "HTTP/1.1", "requestId": "9458ed69-669a-4bc6-a4d4-d64628446719", "requestTime": "19/Dec/2025:02:03:02 +0000", "requestTimeEpoch": 1766109782250, "resourceId": "123456", "resourcePath": "/analyze", "stage": "Prod"}, "resource": "/analyze", "stageVariables": null})
2025-12-19 02:03:51 - src.app.utils.timing - DEBUG - Timing utilities initialized
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "Timing utilities initialized", "logger": "src.app.utils.timing", "requestId": "", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
{"timestamp": "2025-12-19T02:03:51Z", "level": "INFO", "message": "Telemetry enabled for service: text-analysis-service", "logger": "src.app.utils.telemetry", "requestId": ""}
2025-12-19 02:03:51 - src.app.handler - INFO - Starting text analysis job job_20251219020351_7928
{"timestamp": "2025-12-19T02:03:51Z", "level": "INFO", "message": "Starting text analysis job job_20251219020351_7928", "logger": "src.app.handler", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.handler - DEBUG - Parsed request: {'type': 'standalone', 'surveyTitle': 'Food Delivery App Feedback', 'theme': 'customer experience', 'baseline': [{'sentence': 'The delivery was late by 30 minutes', 'id': 'feedback-001'}, {'sentence': 'Food arrived cold and soggy', 'id': 'feedback-002'}, {'sentence': 'Driver was friendly and professional', 'id': 'feedback-003'}, {'sentence': 'App interface is confusing to navigate', 'id': 'feedback-004'}, {'sentence': 'Prices are too high compared to competitors', 'id': 'feedback-005'}]}
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "Parsed request: {'type': 'standalone', 'surveyTitle': 'Food Delivery App Feedback', 'theme': 'customer experience', 'baseline': [{'sentence': 'The delivery was late by 30 minutes', 'id': 'feedback-001'}, {'sentence': 'Food arrived cold and soggy', 'id': 'feedback-002'}, {'sentence': 'Driver was friendly and professional', 'id': 'feedback-003'}, {'sentence': 'App interface is confusing to navigate', 'id': 'feedback-004'}, {'sentence': 'Prices are too high compared to competitors', 'id': 'feedback-005'}]}", "logger": "src.app.handler", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.preprocessing - DEBUG - TextPreprocessor initialized
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "TextPreprocessor initialized", "logger": "src.app.pipeline.preprocessing", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.embedding - DEBUG - EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2", "logger": "src.app.pipeline.embedding", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.clustering - DEBUG - ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine", "logger": "src.app.pipeline.clustering", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.sentiment - DEBUG - SentimentAnalyzer initialized with VADER
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "SentimentAnalyzer initialized with VADER", "logger": "src.app.pipeline.sentiment", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.insights - DEBUG - InsightGenerator initialized with sophisticated template-based logic
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "InsightGenerator initialized with sophisticated template-based logic", "logger": "src.app.pipeline.insights", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.comparison - DEBUG - ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2", "logger": "src.app.pipeline.comparison", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.orchestrator - DEBUG - PipelineOrchestrator initialized with all components
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "PipelineOrchestrator initialized with all components", "logger": "src.app.pipeline.orchestrator", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.handler - INFO - Processing standalone analysis request
{"timestamp": "2025-12-19T02:03:51Z", "level": "INFO", "message": "Processing standalone analysis request", "logger": "src.app.handler", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.orchestrator - INFO - Starting standalone analysis for job job_20251219020351_7928
{"timestamp": "2025-12-19T02:03:51Z", "level": "INFO", "message": "Starting standalone analysis for job job_20251219020351_7928", "logger": "src.app.pipeline.orchestrator", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.orchestrator - DEBUG - Preprocessing 5 sentences
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "Preprocessing 5 sentences", "logger": "src.app.pipeline.orchestrator", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.preprocessing - DEBUG - Preprocessing 5 sentences
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "Preprocessing 5 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.preprocessing - DEBUG - Preprocessing complete: 5 -> 5 sentences
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "Preprocessing complete: 5 -> 5 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.orchestrator - DEBUG - Starting parallel execution of sentiment analysis and (embedding + clustering)
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "Starting parallel execution of sentiment analysis and (embedding + clustering)", "logger": "src.app.pipeline.orchestrator", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.sentiment - DEBUG - Analyzing sentiment for 5 sentences
2025-12-19 02:03:51 - src.app.pipeline.orchestrator - DEBUG - Generating sentence embeddings
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "Analyzing sentiment for 5 sentences", "logger": "src.app.pipeline.sentiment", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "Generating sentence embeddings", "logger": "src.app.pipeline.orchestrator", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.embedding - DEBUG - Generating embeddings for 5 sentences
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "Generating embeddings for 5 sentences", "logger": "src.app.pipeline.embedding", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.embedding - DEBUG - Cache miss for 5 sentences
{"timestamp": "2025-12-19T02:03:51Z", "level": "DEBUG", "message": "Cache miss for 5 sentences", "logger": "src.app.pipeline.embedding", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
2025-12-19 02:03:51 - src.app.pipeline.embedding - INFO - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...
{"timestamp": "2025-12-19T02:03:51Z", "level": "INFO", "message": "Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...", "logger": "src.app.pipeline.embedding", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:03:51"}
{"timestamp": "2025-12-19T02:03:51Z", "level": "INFO", "message": "Use pytorch device_name: cpu", "logger": "sentence_transformers.SentenceTransformer", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3"}
{"timestamp": "2025-12-19T02:03:51Z", "level": "INFO", "message": "Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2", "logger": "sentence_transformers.SentenceTransformer", "requestId": "89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3"}
2025-12-19 15:03:58,688 | Constructed Event 1.0 to invoke Lambda. Event: {'httpMethod': 'POST', 'body': '{invalid json', 'resource': '/analyze', 'requestContext': {'resourceId': '123456', 'apiId': '1234567890', 'resourcePath': '/analyze', 'httpMethod': 'POST', 'requestId': '9458ed69-669a-4bc6-a4d4-d64628446719', 'accountId': '123456789012', 'stage': 'Prod', 'identity': {'apiKey': None, 'userArn': None, 'cognitoAuthenticationType': None, 'caller': None, 'userAgent': 'Custom User Agent String', 'user': None, 'cognitoIdentityPoolId': None, 'cognitoAuthenticationProvider': None, 'sourceIp': '127.0.0.1', 'accountId': None}, 'extendedRequestId': None, 'path': '/analyze', 'protocol': 'HTTP/1.1', 'domainName': '127.0.0.1:3000', 'requestTimeEpoch': 1766109782250, 'requestTime': '19/Dec/2025:02:03:02 +0000'}, 'queryStringParameters': None, 'multiValueQueryStringParameters': None, 'headers': {'Host': '127.0.0.1:3000', 'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '13', 'X-Forwarded-Proto': 'http', 'X-Forwarded-Port': '3000'}, 'multiValueHeaders': {'Host': ['127.0.0.1:3000'], 'User-Agent': ['python-requests/2.32.5'], 'Accept-Encoding': ['gzip, deflate'], 'Accept': ['*/*'], 'Connection': ['keep-alive'], 'Content-Type': ['application/json'], 'Content-Length': ['13'], 'X-Forwarded-Proto': ['http'], 'X-Forwarded-Port': ['3000']}, 'pathParameters': None, 'stageVariables': None, 'path': '/analyze', 'isBase64Encoded': False}
2025-12-19 15:03:58,688 | Found one Lambda function with name 'TextAnalysisFunction'
2025-12-19 15:03:58,688 | Invoking functions/text_analysis/handler.lambda_handler (python3.13)
2025-12-19 15:03:58,688 | Environment variables data found for specific function in standard format
2025-12-19 15:03:58,689 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:58,689 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:58,689 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:58,689 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:03:58,694 | Lambda function 'TextAnalysisFunction' is already running
2025-12-19 15:03:58,694 | Starting a timer for 30 seconds for function 'TextAnalysisFunction'
2025-12-19 15:03:58,695 | Container-963cf3748525 (concurrency available: 0/1) - QUEUED for request ({"body": "{invalid json", "headers": {"Accept": "*/*", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive", "Content-Length": "13", "Content-Type": "application/json", "Host": "127.0.0.1:3000", "User-Agent": "python-requests/2.32.5", "X-Forwarded-Port": "3000", "X-Forwarded-Proto": "http"}, "httpMethod": "POST", "isBase64Encoded": false, "multiValueHeaders": {"Accept": ["*/*"], "Accept-Encoding": ["gzip, deflate"], "Connection": ["keep-alive"], "Content-Length": ["13"], "Content-Type": ["application/json"], "Host": ["127.0.0.1:3000"], "User-Agent": ["python-requests/2.32.5"], "X-Forwarded-Port": ["3000"], "X-Forwarded-Proto": ["http"]}, "multiValueQueryStringParameters": null, "path": "/analyze", "pathParameters": null, "queryStringParameters": null, "requestContext": {"accountId": "123456789012", "apiId": "1234567890", "domainName": "127.0.0.1:3000", "extendedRequestId": null, "httpMethod": "POST", "identity": {"accountId": null, "apiKey": null, "caller": null, "cognitoAuthenticationProvider": null, "cognitoAuthenticationType": null, "cognitoIdentityPoolId": null, "sourceIp": "127.0.0.1", "user": null, "userAgent": "Custom User Agent String", "userArn": null}, "path": "/analyze", "protocol": "HTTP/1.1", "requestId": "9458ed69-669a-4bc6-a4d4-d64628446719", "requestTime": "19/Dec/2025:02:03:02 +0000", "requestTimeEpoch": 1766109782250, "resourceId": "123456", "resourcePath": "/analyze", "stage": "Prod"}, "resource": "/analyze", "stageVariables": null})
2025-12-19 15:04:03,802 | Constructed Event 1.0 to invoke Lambda. Event: {'httpMethod': 'POST', 'body': '{"surveyTitle": "Test Survey", "theme": "test theme"}', 'resource': '/analyze', 'requestContext': {'resourceId': '123456', 'apiId': '1234567890', 'resourcePath': '/analyze', 'httpMethod': 'POST', 'requestId': '9458ed69-669a-4bc6-a4d4-d64628446719', 'accountId': '123456789012', 'stage': 'Prod', 'identity': {'apiKey': None, 'userArn': None, 'cognitoAuthenticationType': None, 'caller': None, 'userAgent': 'Custom User Agent String', 'user': None, 'cognitoIdentityPoolId': None, 'cognitoAuthenticationProvider': None, 'sourceIp': '127.0.0.1', 'accountId': None}, 'extendedRequestId': None, 'path': '/analyze', 'protocol': 'HTTP/1.1', 'domainName': '127.0.0.1:3000', 'requestTimeEpoch': 1766109782250, 'requestTime': '19/Dec/2025:02:03:02 +0000'}, 'queryStringParameters': None, 'multiValueQueryStringParameters': None, 'headers': {'Host': '127.0.0.1:3000', 'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '53', 'X-Forwarded-Proto': 'http', 'X-Forwarded-Port': '3000'}, 'multiValueHeaders': {'Host': ['127.0.0.1:3000'], 'User-Agent': ['python-requests/2.32.5'], 'Accept-Encoding': ['gzip, deflate'], 'Accept': ['*/*'], 'Connection': ['keep-alive'], 'Content-Type': ['application/json'], 'Content-Length': ['53'], 'X-Forwarded-Proto': ['http'], 'X-Forwarded-Port': ['3000']}, 'pathParameters': None, 'stageVariables': None, 'path': '/analyze', 'isBase64Encoded': False}
2025-12-19 15:04:03,802 | Found one Lambda function with name 'TextAnalysisFunction'
2025-12-19 15:04:03,802 | Invoking functions/text_analysis/handler.lambda_handler (python3.13)
2025-12-19 15:04:03,802 | Environment variables data found for specific function in standard format
2025-12-19 15:04:03,803 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:03,803 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:03,803 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:03,803 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:03,807 | Lambda function 'TextAnalysisFunction' is already running
2025-12-19 15:04:03,808 | Starting a timer for 30 seconds for function 'TextAnalysisFunction'
2025-12-19 15:04:03,808 | Container-963cf3748525 (concurrency available: 0/1) - QUEUED for request ({"body": "{\"surveyTitle\": \"Test Survey\", \"theme\": \"test theme\"}", "headers": {"Accept": "*/*", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive", "Content-Length": "53", "Content-Type": "application/json", "Host": "127.0.0.1:3000", "User-Agent": "python-requests/2.32.5", "X-Forwarded-Port": "3000", "X-Forwarded-Proto": "http"}, "httpMethod": "POST", "isBase64Encoded": false, "multiValueHeaders": {"Accept": ["*/*"], "Accept-Encoding": ["gzip, deflate"], "Connection": ["keep-alive"], "Content-Length": ["53"], "Content-Type": ["application/json"], "Host": ["127.0.0.1:3000"], "User-Agent": ["python-requests/2.32.5"], "X-Forwarded-Port": ["3000"], "X-Forwarded-Proto": ["http"]}, "multiValueQueryStringParameters": null, "path": "/analyze", "pathParameters": null, "queryStringParameters": null, "requestContext": {"accountId": "123456789012", "apiId": "1234567890", "domainName": "127.0.0.1:3000", "extendedRequestId": null, "httpMethod": "POST", "identity": {"accountId": null, "apiKey": null, "caller": null, "cognitoAuthenticationProvider": null, "cognitoAuthenticationType": null, "cognitoIdentityPoolId": null, "sourceIp": "127.0.0.1", "user": null, "userAgent": "Custom User Agent String", "userArn": null}, "path": "/analyze", "protocol": "HTTP/1.1", "requestId": "9458ed69-669a-4bc6-a4d4-d64628446719", "requestTime": "19/Dec/2025:02:03:02 +0000", "requestTimeEpoch": 1766109782250, "resourceId": "123456", "resourcePath": "/analyze", "stage": "Prod"}, "resource": "/analyze", "stageVariables": null})
2025-12-19 15:04:08,308 | Function 'TextAnalysisFunction' timed out after 30 seconds
19 Dec 2025 02:04:08,316 [ERROR] (rapid) Invoke failed error=errResetReceived InvokeID=89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3
END RequestId: 89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3
REPORT RequestId: 89bf7ea8-f0a6-47e6-9aee-b82d9fe50de3	Init Duration: 0.03 ms	Duration: 30000.00 ms	Billed Duration: 30000 ms	Memory Size: 1024 MB	Max Memory Used: 1024 MB	
2025-12-19 15:04:08,463 | Failed to deserialize response from RIE, returning the raw response as is

2025-12-19 15:04:08,463 | Unable to find Click Context for getting session_id.
2025-12-19 15:04:08,464 | Invalid lambda response received: Lambda response must be valid json
2025-12-19 15:04:08,465 | Lambda execution failed ()
2025-12-19 15:04:08 127.0.0.1 - - [19/Dec/2025 15:04:08] "[35m[1mPOST /analyze HTTP/1.1[0m" 502 -
START RequestId: f3e8fff5-2d11-4b9a-93fd-539c2d07ef15 Version: $LATEST
2025-12-19 15:04:08,952 | Constructed Event 1.0 to invoke Lambda. Event: {'httpMethod': 'POST', 'body': '{"surveyTitle": "Test Survey", "theme": "test theme", "baseline": []}', 'resource': '/analyze', 'requestContext': {'resourceId': '123456', 'apiId': '1234567890', 'resourcePath': '/analyze', 'httpMethod': 'POST', 'requestId': '9458ed69-669a-4bc6-a4d4-d64628446719', 'accountId': '123456789012', 'stage': 'Prod', 'identity': {'apiKey': None, 'userArn': None, 'cognitoAuthenticationType': None, 'caller': None, 'userAgent': 'Custom User Agent String', 'user': None, 'cognitoIdentityPoolId': None, 'cognitoAuthenticationProvider': None, 'sourceIp': '127.0.0.1', 'accountId': None}, 'extendedRequestId': None, 'path': '/analyze', 'protocol': 'HTTP/1.1', 'domainName': '127.0.0.1:3000', 'requestTimeEpoch': 1766109782250, 'requestTime': '19/Dec/2025:02:03:02 +0000'}, 'queryStringParameters': None, 'multiValueQueryStringParameters': None, 'headers': {'Host': '127.0.0.1:3000', 'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '69', 'X-Forwarded-Proto': 'http', 'X-Forwarded-Port': '3000'}, 'multiValueHeaders': {'Host': ['127.0.0.1:3000'], 'User-Agent': ['python-requests/2.32.5'], 'Accept-Encoding': ['gzip, deflate'], 'Accept': ['*/*'], 'Connection': ['keep-alive'], 'Content-Type': ['application/json'], 'Content-Length': ['69'], 'X-Forwarded-Proto': ['http'], 'X-Forwarded-Port': ['3000']}, 'pathParameters': None, 'stageVariables': None, 'path': '/analyze', 'isBase64Encoded': False}
2025-12-19 15:04:08,953 | Found one Lambda function with name 'TextAnalysisFunction'
2025-12-19 15:04:08,953 | Invoking functions/text_analysis/handler.lambda_handler (python3.13)
2025-12-19 15:04:08,953 | Environment variables data found for specific function in standard format
2025-12-19 15:04:08,953 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:08,953 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:08,953 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:08,953 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:08,960 | Lambda function 'TextAnalysisFunction' is already running
2025-12-19 15:04:08,960 | Starting a timer for 30 seconds for function 'TextAnalysisFunction'
2025-12-19 15:04:08,961 | Container-963cf3748525 (concurrency available: 0/1) - QUEUED for request ({"body": "{\"surveyTitle\": \"Test Survey\", \"theme\": \"test theme\", \"baseline\": []}", "headers": {"Accept": "*/*", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive", "Content-Length": "69", "Content-Type": "application/json", "Host": "127.0.0.1:3000", "User-Agent": "python-requests/2.32.5", "X-Forwarded-Port": "3000", "X-Forwarded-Proto": "http"}, "httpMethod": "POST", "isBase64Encoded": false, "multiValueHeaders": {"Accept": ["*/*"], "Accept-Encoding": ["gzip, deflate"], "Connection": ["keep-alive"], "Content-Length": ["69"], "Content-Type": ["application/json"], "Host": ["127.0.0.1:3000"], "User-Agent": ["python-requests/2.32.5"], "X-Forwarded-Port": ["3000"], "X-Forwarded-Proto": ["http"]}, "multiValueQueryStringParameters": null, "path": "/analyze", "pathParameters": null, "queryStringParameters": null, "requestContext": {"accountId": "123456789012", "apiId": "1234567890", "domainName": "127.0.0.1:3000", "extendedRequestId": null, "httpMethod": "POST", "identity": {"accountId": null, "apiKey": null, "caller": null, "cognitoAuthenticationProvider": null, "cognitoAuthenticationType": null, "cognitoIdentityPoolId": null, "sourceIp": "127.0.0.1", "user": null, "userAgent": "Custom User Agent String", "userArn": null}, "path": "/analyze", "protocol": "HTTP/1.1", "requestId": "9458ed69-669a-4bc6-a4d4-d64628446719", "requestTime": "19/Dec/2025:02:03:02 +0000", "requestTimeEpoch": 1766109782250, "resourceId": "123456", "resourcePath": "/analyze", "stage": "Prod"}, "resource": "/analyze", "stageVariables": null})
2025-12-19 15:04:14,142 | Constructed Event 1.0 to invoke Lambda. Event: {'httpMethod': 'POST', 'body': '{"surveyTitle": "Test Survey", "theme": "test theme", "baseline": [{"sentence": "This is a test sentence"}]}', 'resource': '/analyze', 'requestContext': {'resourceId': '123456', 'apiId': '1234567890', 'resourcePath': '/analyze', 'httpMethod': 'POST', 'requestId': '9458ed69-669a-4bc6-a4d4-d64628446719', 'accountId': '123456789012', 'stage': 'Prod', 'identity': {'apiKey': None, 'userArn': None, 'cognitoAuthenticationType': None, 'caller': None, 'userAgent': 'Custom User Agent String', 'user': None, 'cognitoIdentityPoolId': None, 'cognitoAuthenticationProvider': None, 'sourceIp': '127.0.0.1', 'accountId': None}, 'extendedRequestId': None, 'path': '/analyze', 'protocol': 'HTTP/1.1', 'domainName': '127.0.0.1:3000', 'requestTimeEpoch': 1766109782250, 'requestTime': '19/Dec/2025:02:03:02 +0000'}, 'queryStringParameters': None, 'multiValueQueryStringParameters': None, 'headers': {'Host': '127.0.0.1:3000', 'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '108', 'X-Forwarded-Proto': 'http', 'X-Forwarded-Port': '3000'}, 'multiValueHeaders': {'Host': ['127.0.0.1:3000'], 'User-Agent': ['python-requests/2.32.5'], 'Accept-Encoding': ['gzip, deflate'], 'Accept': ['*/*'], 'Connection': ['keep-alive'], 'Content-Type': ['application/json'], 'Content-Length': ['108'], 'X-Forwarded-Proto': ['http'], 'X-Forwarded-Port': ['3000']}, 'pathParameters': None, 'stageVariables': None, 'path': '/analyze', 'isBase64Encoded': False}
2025-12-19 15:04:14,142 | Found one Lambda function with name 'TextAnalysisFunction'
2025-12-19 15:04:14,142 | Invoking functions/text_analysis/handler.lambda_handler (python3.13)
2025-12-19 15:04:14,142 | Environment variables data found for specific function in standard format
2025-12-19 15:04:14,142 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:14,142 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:14,142 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:14,142 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:14,150 | Lambda function 'TextAnalysisFunction' is already running
2025-12-19 15:04:14,151 | Starting a timer for 30 seconds for function 'TextAnalysisFunction'
2025-12-19 15:04:14,151 | Container-963cf3748525 (concurrency available: 0/1) - QUEUED for request ({"body": "{\"surveyTitle\": \"Test Survey\", \"theme\": \"test theme\", \"baseline\": [{\"sentence\": \"This is a test sentence\"}]}", "headers": {"Accept": "*/*", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive", "Content-Length": "108", "Content-Type": "application/json", "Host": "127.0.0.1:3000", "User-Agent": "python-requests/2.32.5", "X-Forwarded-Port": "3000", "X-Forwarded-Proto": "http"}, "httpMethod": "POST", "isBase64Encoded": false, "multiValueHeaders": {"Accept": ["*/*"], "Accept-Encoding": ["gzip, deflate"], "Connection": ["keep-alive"], "Content-Length": ["108"], "Content-Type": ["application/json"], "Host": ["127.0.0.1:3000"], "User-Agent": ["python-requests/2.32.5"], "X-Forwarded-Port": ["3000"], "X-Forwarded-Proto": ["http"]}, "multiValueQueryStringParameters": null, "path": "/analyze", "pathParameters": null, "queryStringParameters": null, "requestContext": {"accountId": "123456789012", "apiId": "1234567890", "domainName": "127.0.0.1:3000", "extendedRequestId": null, "httpMethod": "POST", "identity": {"accountId": null, "apiKey": null, "caller": null, "cognitoAuthenticationProvider": null, "cognitoAuthenticationType": null, "cognitoIdentityPoolId": null, "sourceIp": "127.0.0.1", "user": null, "userAgent": "Custom User Agent String", "userArn": null}, "path": "/analyze", "protocol": "HTTP/1.1", "requestId": "9458ed69-669a-4bc6-a4d4-d64628446719", "requestTime": "19/Dec/2025:02:03:02 +0000", "requestTimeEpoch": 1766109782250, "resourceId": "123456", "resourcePath": "/analyze", "stage": "Prod"}, "resource": "/analyze", "stageVariables": null})
2025-12-19 15:04:18,513 | Function 'TextAnalysisFunction' timed out after 30 seconds
2025-12-19 15:04:19,282 | Constructed Event 1.0 to invoke Lambda. Event: {'httpMethod': 'POST', 'body': '{"surveyTitle": "Test Survey", "theme": "test theme", "baseline": [{"sentence": "First sentence", "id": "duplicate-id"}, {"sentence": "Second sentence", "id": "duplicate-id"}]}', 'resource': '/analyze', 'requestContext': {'resourceId': '123456', 'apiId': '1234567890', 'resourcePath': '/analyze', 'httpMethod': 'POST', 'requestId': '9458ed69-669a-4bc6-a4d4-d64628446719', 'accountId': '123456789012', 'stage': 'Prod', 'identity': {'apiKey': None, 'userArn': None, 'cognitoAuthenticationType': None, 'caller': None, 'userAgent': 'Custom User Agent String', 'user': None, 'cognitoIdentityPoolId': None, 'cognitoAuthenticationProvider': None, 'sourceIp': '127.0.0.1', 'accountId': None}, 'extendedRequestId': None, 'path': '/analyze', 'protocol': 'HTTP/1.1', 'domainName': '127.0.0.1:3000', 'requestTimeEpoch': 1766109782250, 'requestTime': '19/Dec/2025:02:03:02 +0000'}, 'queryStringParameters': None, 'multiValueQueryStringParameters': None, 'headers': {'Host': '127.0.0.1:3000', 'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '176', 'X-Forwarded-Proto': 'http', 'X-Forwarded-Port': '3000'}, 'multiValueHeaders': {'Host': ['127.0.0.1:3000'], 'User-Agent': ['python-requests/2.32.5'], 'Accept-Encoding': ['gzip, deflate'], 'Accept': ['*/*'], 'Connection': ['keep-alive'], 'Content-Type': ['application/json'], 'Content-Length': ['176'], 'X-Forwarded-Proto': ['http'], 'X-Forwarded-Port': ['3000']}, 'pathParameters': None, 'stageVariables': None, 'path': '/analyze', 'isBase64Encoded': False}
2025-12-19 15:04:19,282 | Found one Lambda function with name 'TextAnalysisFunction'
2025-12-19 15:04:19,283 | Invoking functions/text_analysis/handler.lambda_handler (python3.13)
2025-12-19 15:04:19,283 | Environment variables data found for specific function in standard format
2025-12-19 15:04:19,283 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:19,283 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:19,283 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:19,283 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:19,290 | Lambda function 'TextAnalysisFunction' is already running
2025-12-19 15:04:19,290 | Starting a timer for 30 seconds for function 'TextAnalysisFunction'
2025-12-19 15:04:19,290 | Container-963cf3748525 (concurrency available: 0/1) - QUEUED for request ({"body": "{\"surveyTitle\": \"Test Survey\", \"theme\": \"test theme\", \"baseline\": [{\"sentence\": \"First sentence\", \"id\": \"duplicate-id\"}, {\"sentence\": \"Second sentence\", \"id\": \"duplicate-id\"}]}", "headers": {"Accept": "*/*", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive", "Content-Length": "176", "Content-Type": "application/json", "Host": "127.0.0.1:3000", "User-Agent": "python-requests/2.32.5", "X-Forwarded-Port": "3000", "X-Forwarded-Proto": "http"}, "httpMethod": "POST", "isBase64Encoded": false, "multiValueHeaders": {"Accept": ["*/*"], "Accept-Encoding": ["gzip, deflate"], "Connection": ["keep-alive"], "Content-Length": ["176"], "Content-Type": ["application/json"], "Host": ["127.0.0.1:3000"], "User-Agent": ["python-requests/2.32.5"], "X-Forwarded-Port": ["3000"], "X-Forwarded-Proto": ["http"]}, "multiValueQueryStringParameters": null, "path": "/analyze", "pathParameters": null, "queryStringParameters": null, "requestContext": {"accountId": "123456789012", "apiId": "1234567890", "domainName": "127.0.0.1:3000", "extendedRequestId": null, "httpMethod": "POST", "identity": {"accountId": null, "apiKey": null, "caller": null, "cognitoAuthenticationProvider": null, "cognitoAuthenticationType": null, "cognitoIdentityPoolId": null, "sourceIp": "127.0.0.1", "user": null, "userAgent": "Custom User Agent String", "userArn": null}, "path": "/analyze", "protocol": "HTTP/1.1", "requestId": "9458ed69-669a-4bc6-a4d4-d64628446719", "requestTime": "19/Dec/2025:02:03:02 +0000", "requestTimeEpoch": 1766109782250, "resourceId": "123456", "resourcePath": "/analyze", "stage": "Prod"}, "resource": "/analyze", "stageVariables": null})
2025-12-19 02:04:21 - src.app.utils.timing - DEBUG - Timing utilities initialized
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "Timing utilities initialized", "logger": "src.app.utils.timing", "requestId": "", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
{"timestamp": "2025-12-19T02:04:21Z", "level": "INFO", "message": "Telemetry enabled for service: text-analysis-service", "logger": "src.app.utils.telemetry", "requestId": ""}
2025-12-19 02:04:21 - src.app.handler - INFO - Starting text analysis job job_20251219020421_8050
{"timestamp": "2025-12-19T02:04:21Z", "level": "INFO", "message": "Starting text analysis job job_20251219020421_8050", "logger": "src.app.handler", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.handler - DEBUG - Parsed request: {'type': 'comparison', 'surveyTitle': 'Food Delivery App Feedback', 'theme': 'customer experience', 'baseline': [{'sentence': 'The delivery was late by 30 minutes', 'id': 'feedback-001'}, {'sentence': 'Food arrived cold and soggy', 'id': 'feedback-002'}, {'sentence': 'Driver was friendly and professional', 'id': 'feedback-003'}, {'sentence': 'App interface is confusing to navigate', 'id': 'feedback-004'}, {'sentence': 'Prices are too high compared to competitors', 'id': 'feedback-005'}], 'comparison': [{'sentence': 'Delivery is always on time now', 'id': 'feedback-101'}, {'sentence': 'Food arrives hot and fresh', 'id': 'feedback-102'}, {'sentence': 'Drivers are rude sometimes', 'id': 'feedback-103'}, {'sentence': 'App interface improved significantly', 'id': 'feedback-104'}, {'sentence': 'Prices increased again', 'id': 'feedback-105'}]}
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "Parsed request: {'type': 'comparison', 'surveyTitle': 'Food Delivery App Feedback', 'theme': 'customer experience', 'baseline': [{'sentence': 'The delivery was late by 30 minutes', 'id': 'feedback-001'}, {'sentence': 'Food arrived cold and soggy', 'id': 'feedback-002'}, {'sentence': 'Driver was friendly and professional', 'id': 'feedback-003'}, {'sentence': 'App interface is confusing to navigate', 'id': 'feedback-004'}, {'sentence': 'Prices are too high compared to competitors', 'id': 'feedback-005'}], 'comparison': [{'sentence': 'Delivery is always on time now', 'id': 'feedback-101'}, {'sentence': 'Food arrives hot and fresh', 'id': 'feedback-102'}, {'sentence': 'Drivers are rude sometimes', 'id': 'feedback-103'}, {'sentence': 'App interface improved significantly', 'id': 'feedback-104'}, {'sentence': 'Prices increased again', 'id': 'feedback-105'}]}", "logger": "src.app.handler", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.preprocessing - DEBUG - TextPreprocessor initialized
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "TextPreprocessor initialized", "logger": "src.app.pipeline.preprocessing", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.embedding - DEBUG - EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2", "logger": "src.app.pipeline.embedding", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.clustering - DEBUG - ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine", "logger": "src.app.pipeline.clustering", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.sentiment - DEBUG - SentimentAnalyzer initialized with VADER
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "SentimentAnalyzer initialized with VADER", "logger": "src.app.pipeline.sentiment", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.insights - DEBUG - InsightGenerator initialized with sophisticated template-based logic
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "InsightGenerator initialized with sophisticated template-based logic", "logger": "src.app.pipeline.insights", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.comparison - DEBUG - ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2", "logger": "src.app.pipeline.comparison", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.orchestrator - DEBUG - PipelineOrchestrator initialized with all components
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "PipelineOrchestrator initialized with all components", "logger": "src.app.pipeline.orchestrator", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.handler - INFO - Processing comparative analysis request
{"timestamp": "2025-12-19T02:04:21Z", "level": "INFO", "message": "Processing comparative analysis request", "logger": "src.app.handler", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.orchestrator - INFO - Starting comparative analysis for job job_20251219020421_8050
{"timestamp": "2025-12-19T02:04:21Z", "level": "INFO", "message": "Starting comparative analysis for job job_20251219020421_8050", "logger": "src.app.pipeline.orchestrator", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.orchestrator - DEBUG - Processing baseline dataset (5 sentences)
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "Processing baseline dataset (5 sentences)", "logger": "src.app.pipeline.orchestrator", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.orchestrator - DEBUG - Processing baseline dataset
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "Processing baseline dataset", "logger": "src.app.pipeline.orchestrator", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.preprocessing - DEBUG - Preprocessing 5 sentences
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "Preprocessing 5 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.preprocessing - DEBUG - Preprocessing complete: 5 -> 5 sentences
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "Preprocessing complete: 5 -> 5 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.sentiment - DEBUG - Analyzing sentiment for 5 sentences
2025-12-19 02:04:21 - src.app.pipeline.embedding - DEBUG - Generating embeddings for 5 sentences
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "Analyzing sentiment for 5 sentences", "logger": "src.app.pipeline.sentiment", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "Generating embeddings for 5 sentences", "logger": "src.app.pipeline.embedding", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.embedding - DEBUG - Cache miss for 5 sentences
{"timestamp": "2025-12-19T02:04:21Z", "level": "DEBUG", "message": "Cache miss for 5 sentences", "logger": "src.app.pipeline.embedding", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
2025-12-19 02:04:21 - src.app.pipeline.embedding - INFO - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...
{"timestamp": "2025-12-19T02:04:21Z", "level": "INFO", "message": "Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...", "logger": "src.app.pipeline.embedding", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:21"}
{"timestamp": "2025-12-19T02:04:21Z", "level": "INFO", "message": "Use pytorch device_name: cpu", "logger": "sentence_transformers.SentenceTransformer", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9"}
{"timestamp": "2025-12-19T02:04:21Z", "level": "INFO", "message": "Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2", "logger": "sentence_transformers.SentenceTransformer", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9"}
2025-12-19 15:04:24,420 | Constructed Event 1.0 to invoke Lambda. Event: {'httpMethod': 'POST', 'body': '{"surveyTitle": "Large Survey", "theme": "performance testing", "baseline": [{"sentence": "Sentence number 0", "id": "id-0"}, {"sentence": "Sentence number 1", "id": "id-1"}, {"sentence": "Sentence number 2", "id": "id-2"}, {"sentence": "Sentence number 3", "id": "id-3"}, {"sentence": "Sentence number 4", "id": "id-4"}, {"sentence": "Sentence number 5", "id": "id-5"}, {"sentence": "Sentence number 6", "id": "id-6"}, {"sentence": "Sentence number 7", "id": "id-7"}, {"sentence": "Sentence number 8", "id": "id-8"}, {"sentence": "Sentence number 9", "id": "id-9"}, {"sentence": "Sentence number 10", "id": "id-10"}, {"sentence": "Sentence number 11", "id": "id-11"}, {"sentence": "Sentence number 12", "id": "id-12"}, {"sentence": "Sentence number 13", "id": "id-13"}, {"sentence": "Sentence number 14", "id": "id-14"}, {"sentence": "Sentence number 15", "id": "id-15"}, {"sentence": "Sentence number 16", "id": "id-16"}, {"sentence": "Sentence number 17", "id": "id-17"}, {"sentence": "Sentence number 18", "id": "id-18"}, {"sentence": "Sentence number 19", "id": "id-19"}, {"sentence": "Sentence number 20", "id": "id-20"}, {"sentence": "Sentence number 21", "id": "id-21"}, {"sentence": "Sentence number 22", "id": "id-22"}, {"sentence": "Sentence number 23", "id": "id-23"}, {"sentence": "Sentence number 24", "id": "id-24"}, {"sentence": "Sentence number 25", "id": "id-25"}, {"sentence": "Sentence number 26", "id": "id-26"}, {"sentence": "Sentence number 27", "id": "id-27"}, {"sentence": "Sentence number 28", "id": "id-28"}, {"sentence": "Sentence number 29", "id": "id-29"}, {"sentence": "Sentence number 30", "id": "id-30"}, {"sentence": "Sentence number 31", "id": "id-31"}, {"sentence": "Sentence number 32", "id": "id-32"}, {"sentence": "Sentence number 33", "id": "id-33"}, {"sentence": "Sentence number 34", "id": "id-34"}, {"sentence": "Sentence number 35", "id": "id-35"}, {"sentence": "Sentence number 36", "id": "id-36"}, {"sentence": "Sentence number 37", "id": "id-37"}, {"sentence": "Sentence number 38", "id": "id-38"}, {"sentence": "Sentence number 39", "id": "id-39"}, {"sentence": "Sentence number 40", "id": "id-40"}, {"sentence": "Sentence number 41", "id": "id-41"}, {"sentence": "Sentence number 42", "id": "id-42"}, {"sentence": "Sentence number 43", "id": "id-43"}, {"sentence": "Sentence number 44", "id": "id-44"}, {"sentence": "Sentence number 45", "id": "id-45"}, {"sentence": "Sentence number 46", "id": "id-46"}, {"sentence": "Sentence number 47", "id": "id-47"}, {"sentence": "Sentence number 48", "id": "id-48"}, {"sentence": "Sentence number 49", "id": "id-49"}]}', 'resource': '/analyze', 'requestContext': {'resourceId': '123456', 'apiId': '1234567890', 'resourcePath': '/analyze', 'httpMethod': 'POST', 'requestId': '9458ed69-669a-4bc6-a4d4-d64628446719', 'accountId': '123456789012', 'stage': 'Prod', 'identity': {'apiKey': None, 'userArn': None, 'cognitoAuthenticationType': None, 'caller': None, 'userAgent': 'Custom User Agent String', 'user': None, 'cognitoIdentityPoolId': None, 'cognitoAuthenticationProvider': None, 'sourceIp': '127.0.0.1', 'accountId': None}, 'extendedRequestId': None, 'path': '/analyze', 'protocol': 'HTTP/1.1', 'domainName': '127.0.0.1:3000', 'requestTimeEpoch': 1766109782250, 'requestTime': '19/Dec/2025:02:03:02 +0000'}, 'queryStringParameters': None, 'multiValueQueryStringParameters': None, 'headers': {'Host': '127.0.0.1:3000', 'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '2607', 'X-Forwarded-Proto': 'http', 'X-Forwarded-Port': '3000'}, 'multiValueHeaders': {'Host': ['127.0.0.1:3000'], 'User-Agent': ['python-requests/2.32.5'], 'Accept-Encoding': ['gzip, deflate'], 'Accept': ['*/*'], 'Connection': ['keep-alive'], 'Content-Type': ['application/json'], 'Content-Length': ['2607'], 'X-Forwarded-Proto': ['http'], 'X-Forwarded-Port': ['3000']}, 'pathParameters': None, 'stageVariables': None, 'path': '/analyze', 'isBase64Encoded': False}
2025-12-19 15:04:24,420 | Found one Lambda function with name 'TextAnalysisFunction'
2025-12-19 15:04:24,420 | Invoking functions/text_analysis/handler.lambda_handler (python3.13)
2025-12-19 15:04:24,420 | Environment variables data found for specific function in standard format
2025-12-19 15:04:24,420 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:24,420 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:24,421 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:24,421 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:24,450 | Lambda function 'TextAnalysisFunction' is already running
2025-12-19 15:04:24,450 | Starting a timer for 30 seconds for function 'TextAnalysisFunction'
2025-12-19 15:04:24,450 | Container-963cf3748525 (concurrency available: 0/1) - QUEUED for request ({"body": "{\"surveyTitle\": \"Large Survey\", \"theme\": \"performance testing\", \"baseline\": [{\"sentence\": \"Sentence number 0\", \"id\": \"id-0\"}, {\"sentence\": \"Sentence number 1\", \"id\": \"id-1\"}, {\"sentence\": \"Sentence number 2\", \"id\": \"id-2\"}, {\"sentence\": \"Sentence number 3\", \"id\": \"id-3\"}, {\"sentence\": \"Sentence number 4\", \"id\": \"id-4\"}, {\"sentence\": \"Sentence number 5\", \"id\": \"id-5\"}, {\"sentence\": \"Sentence number 6\", \"id\": \"id-6\"}, {\"sentence\": \"Sentence number 7\", \"id\": \"id-7\"}, {\"sentence\": \"Sentence number 8\", \"id\": \"id-8\"}, {\"sentence\": \"Sentence number 9\", \"id\": \"id-9\"}, {\"sentence\": \"Sentence number 10\", \"id\": \"id-10\"}, {\"sentence\": \"Sentence number 11\", \"id\": \"id-11\"}, {\"sentence\": \"Sentence number 12\", \"id\": \"id-12\"}, {\"sentence\": \"Sentence number 13\", \"id\": \"id-13\"}, {\"sentence\": \"Sentence number 14\", \"id\": \"id-14\"}, {\"sentence\": \"Sentence number 15\", \"id\": \"id-15\"}, {\"sentence\": \"Sentence number 16\", \"id\": \"id-16\"}, {\"sentence\": \"Sentence number 17\", \"id\": \"id-17\"}, {\"sentence\": \"Sentence number 18\", \"id\": \"id-18\"}, {\"sentence\": \"Sentence number 19\", \"id\": \"id-19\"}, {\"sentence\": \"Sentence number 20\", \"id\": \"id-20\"}, {\"sentence\": \"Sentence number 21\", \"id\": \"id-21\"}, {\"sentence\": \"Sentence number 22\", \"id\": \"id-22\"}, {\"sentence\": \"Sentence number 23\", \"id\": \"id-23\"}, {\"sentence\": \"Sentence number 24\", \"id\": \"id-24\"}, {\"sentence\": \"Sentence number 25\", \"id\": \"id-25\"}, {\"sentence\": \"Sentence number 26\", \"id\": \"id-26\"}, {\"sentence\": \"Sentence number 27\", \"id\": \"id-27\"}, {\"sentence\": \"Sentence number 28\", \"id\": \"id-28\"}, {\"sentence\": \"Sentence number 29\", \"id\": \"id-29\"}, {\"sentence\": \"Sentence number 30\", \"id\": \"id-30\"}, {\"sentence\": \"Sentence number 31\", \"id\": \"id-31\"}, {\"sentence\": \"Sentence number 32\", \"id\": \"id-32\"}, {\"sentence\": \"Sentence number 33\", \"id\": \"id-33\"}, {\"sentence\": \"Sentence number 34\", \"id\": \"id-34\"}, {\"sentence\": \"Sentence number 35\", \"id\": \"id-35\"}, {\"sentence\": \"Sentence number 36\", \"id\": \"id-36\"}, {\"sentence\": \"Sentence number 37\", \"id\": \"id-37\"}, {\"sentence\": \"Sentence number 38\", \"id\": \"id-38\"}, {\"sentence\": \"Sentence number 39\", \"id\": \"id-39\"}, {\"sentence\": \"Sentence number 40\", \"id\": \"id-40\"}, {\"sentence\": \"Sentence number 41\", \"id\": \"id-41\"}, {\"sentence\": \"Sentence number 42\", \"id\": \"id-42\"}, {\"sentence\": \"Sentence number 43\", \"id\": \"id-43\"}, {\"sentence\": \"Sentence number 44\", \"id\": \"id-44\"}, {\"sentence\": \"Sentence number 45\", \"id\": \"id-45\"}, {\"sentence\": \"Sentence number 46\", \"id\": \"id-46\"}, {\"sentence\": \"Sentence number 47\", \"id\": \"id-47\"}, {\"sentence\": \"Sentence number 48\", \"id\": \"id-48\"}, {\"sentence\": \"Sentence number 49\", \"id\": \"id-49\"}]}", "headers": {"Accept": "*/*", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive", "Content-Length": "2607", "Content-Type": "application/json", "Host": "127.0.0.1:3000", "User-Agent": "python-requests/2.32.5", "X-Forwarded-Port": "3000", "X-Forwarded-Proto": "http"}, "httpMethod": "POST", "isBase64Encoded": false, "multiValueHeaders": {"Accept": ["*/*"], "Accept-Encoding": ["gzip, deflate"], "Connection": ["keep-alive"], "Content-Length": ["2607"], "Content-Type": ["application/json"], "Host": ["127.0.0.1:3000"], "User-Agent": ["python-requests/2.32.5"], "X-Forwarded-Port": ["3000"], "X-Forwarded-Proto": ["http"]}, "multiValueQueryStringParameters": null, "path": "/analyze", "pathParameters": null, "queryStringParameters": null, "requestContext": {"accountId": "123456789012", "apiId": "1234567890", "domainName": "127.0.0.1:3000", "extendedRequestId": null, "httpMethod": "POST", "identity": {"accountId": null, "apiKey": null, "caller": null, "cognitoAuthenticationProvider": null, "cognitoAuthenticationType": null, "cognitoIdentityPoolId": null, "sourceIp": "127.0.0.1", "user": null, "userAgent": "Custom User Agent String", "userArn": null}, "path": "/analyze", "protocol": "HTTP/1.1", "requestId": "9458ed69-669a-4bc6-a4d4-d64628446719", "requestTime": "19/Dec/2025:02:03:02 +0000", "requestTimeEpoch": 1766109782250, "resourceId": "123456", "resourcePath": "/analyze", "stage": "Prod"}, "resource": "/analyze", "stageVariables": null})
2025-12-19 02:04:26 - src.app.pipeline.embedding - INFO - Successfully loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Successfully loaded embedding model: sentence-transformers/all-MiniLM-L6-v2", "logger": "src.app.pipeline.embedding", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}

Batches:   0%|          | 0/1 [00:00<?, ?it/s]
Batches: 100%|██████████| 1/1 [00:00<00:00, 48.80it/s]
2025-12-19 02:04:26 - src.app.pipeline.clustering - DEBUG - Clustering 5 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Clustering 5 sentences", "logger": "src.app.pipeline.clustering", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.clustering - INFO - Clustering complete: 0 clusters, 5 noise points
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Clustering complete: 0 clusters, 5 noise points", "logger": "src.app.pipeline.clustering", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.sentiment - DEBUG - Aggregating sentiment for 1 clusters
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Aggregating sentiment for 1 clusters", "logger": "src.app.pipeline.sentiment", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.orchestrator - DEBUG - Processing comparison dataset (5 sentences)
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Processing comparison dataset (5 sentences)", "logger": "src.app.pipeline.orchestrator", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.orchestrator - DEBUG - Processing comparison dataset
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Processing comparison dataset", "logger": "src.app.pipeline.orchestrator", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.preprocessing - DEBUG - Preprocessing 5 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Preprocessing 5 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.preprocessing - DEBUG - Preprocessing complete: 5 -> 5 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Preprocessing complete: 5 -> 5 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.sentiment - DEBUG - Analyzing sentiment for 5 sentences
2025-12-19 02:04:26 - src.app.pipeline.embedding - DEBUG - Generating embeddings for 5 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Generating embeddings for 5 sentences", "logger": "src.app.pipeline.embedding", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Analyzing sentiment for 5 sentences", "logger": "src.app.pipeline.sentiment", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.embedding - DEBUG - Cache miss for 5 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Cache miss for 5 sentences", "logger": "src.app.pipeline.embedding", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}

Batches:   0%|          | 0/1 [00:00<?, ?it/s]
Batches: 100%|██████████| 1/1 [00:00<00:00, 75.99it/s]
2025-12-19 02:04:26 - src.app.pipeline.clustering - DEBUG - Clustering 5 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Clustering 5 sentences", "logger": "src.app.pipeline.clustering", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.clustering - INFO - Clustering complete: 0 clusters, 5 noise points
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Clustering complete: 0 clusters, 5 noise points", "logger": "src.app.pipeline.clustering", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.sentiment - DEBUG - Aggregating sentiment for 1 clusters
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Aggregating sentiment for 1 clusters", "logger": "src.app.pipeline.sentiment", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.orchestrator - DEBUG - Performing comparative analysis
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Performing comparative analysis", "logger": "src.app.pipeline.orchestrator", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.comparison - INFO - Comparing 0 baseline clusters with 0 comparison clusters
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Comparing 0 baseline clusters with 0 comparison clusters", "logger": "src.app.pipeline.comparison", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.comparison - DEBUG - Filtered clusters: 0 -> 0
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Filtered clusters: 0 -> 0", "logger": "src.app.pipeline.comparison", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.comparison - DEBUG - Filtered clusters: 0 -> 0
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Filtered clusters: 0 -> 0", "logger": "src.app.pipeline.comparison", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.comparison - DEBUG - Found 0 similar cluster pairs
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Found 0 similar cluster pairs", "logger": "src.app.pipeline.comparison", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.comparison - DEBUG - Found 0 unique baseline clusters, 0 unique comparison clusters
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Found 0 unique baseline clusters, 0 unique comparison clusters", "logger": "src.app.pipeline.comparison", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.orchestrator - INFO - Completed comparative analysis in 0.0ms
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Completed comparative analysis in 0.0ms", "logger": "src.app.pipeline.orchestrator", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.handler - INFO - Completed job job_20251219020421_8050 in 0.0ms
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Completed job job_20251219020421_8050 in 0.0ms", "logger": "src.app.handler", "requestId": "e3af46d4-1b23-4c0d-a504-f3064f33fad9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
END RequestId: e3af46d4-1b23-4c0d-a504-f3064f33fad9
REPORT RequestId: e3af46d4-1b23-4c0d-a504-f3064f33fad9	Duration: 17597.10 ms	Billed Duration: 17598 ms	Memory Size: 1024 MB	Max Memory Used: 1024 MB	

2025-12-19 15:04:26 127.0.0.1 - - [19/Dec/2025 15:04:26] "POST /analyze HTTP/1.1" 200 -
START RequestId: 4abdc203-cb22-466a-ac68-de9918fa4c9b Version: $LATEST
2025-12-19 02:04:26 - src.app.handler - INFO - Starting text analysis job job_20251219020426_6752
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Starting text analysis job job_20251219020426_6752", "logger": "src.app.handler", "requestId": "68904354-2027-429b-a497-0910f8425071", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.handler - ERROR - Job job_20251219020426_6752 failed: Invalid JSON in request: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
Traceback (most recent call last):
  File "/var/task/src/app/handler.py", line 103, in _parse_request
    body = json.loads(event["body"])
  File "/var/lang/lib/python3.13/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ~~~~~~~~~~~~~~~~~~~~~~~^^^
  File "/var/lang/lib/python3.13/json/decoder.py", line 345, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/lang/lib/python3.13/json/decoder.py", line 361, in raw_decode
    obj, end = self.scan_once(s, idx)
               ~~~~~~~~~~~~~~^^^^^^^^
json.decoder.JSONDecodeError: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/task/src/app/handler.py", line 44, in lambda_handler
    request_data = _parse_request(event)
  File "/var/task/src/app/handler.py", line 129, in _parse_request
    raise ValueError(f"Invalid JSON in request: {str(e)}")
ValueError: Invalid JSON in request: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)
{"timestamp": "2025-12-19T02:04:26Z", "level": "ERROR", "message": "Job job_20251219020426_6752 failed: Invalid JSON in request: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)", "logger": "src.app.handler", "stackTrace": ["  File \"/var/task/src/app/handler.py\", line 44, in lambda_handler\n    request_data = _parse_request(event)\n", "  File \"/var/task/src/app/handler.py\", line 129, in _parse_request\n    raise ValueError(f\"Invalid JSON in request: {str(e)}\")\n"], "errorType": "ValueError", "errorMessage": "Invalid JSON in request: Expecting property name enclosed in double quotes: line 1 column 2 (char 1)", "requestId": "68904354-2027-429b-a497-0910f8425071", "location": "/var/task/src/app/handler.py:lambda_handler:78", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
END RequestId: 68904354-2027-429b-a497-0910f8425071
REPORT RequestId: 68904354-2027-429b-a497-0910f8425071	Duration: 4.30 ms	Billed Duration: 5 ms	Memory Size: 1024 MB	Max Memory Used: 1024 MB	

2025-12-19 15:04:26 127.0.0.1 - - [19/Dec/2025 15:04:26] "[31m[1mPOST /analyze HTTP/1.1[0m" 400 -
START RequestId: 028aea87-180f-44f3-b3e2-5f7b4d7bf8e0 Version: $LATEST
2025-12-19 02:04:26 - src.app.handler - INFO - Starting text analysis job job_20251219020426_6797
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Starting text analysis job job_20251219020426_6797", "logger": "src.app.handler", "requestId": "2736f4af-f543-4597-82a5-38f22154c291", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.handler - ERROR - Job job_20251219020426_6797 failed: Invalid request data: 1 validation error for StandaloneInput
baseline
  Field required [type=missing, input_value={'surveyTitle': 'Test Sur..., 'theme': 'test theme'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
Traceback (most recent call last):
  File "/var/task/src/app/handler.py", line 120, in _parse_request
    input_model = StandaloneInput(**body)
  File "/var/task/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for StandaloneInput
baseline
  Field required [type=missing, input_value={'surveyTitle': 'Test Sur..., 'theme': 'test theme'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/task/src/app/handler.py", line 44, in lambda_handler
    request_data = _parse_request(event)
  File "/var/task/src/app/handler.py", line 132, in _parse_request
    raise ValueError(f"Invalid request data: {str(e)}")
ValueError: Invalid request data: 1 validation error for StandaloneInput
baseline
  Field required [type=missing, input_value={'surveyTitle': 'Test Sur..., 'theme': 'test theme'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
{"timestamp": "2025-12-19T02:04:26Z", "level": "ERROR", "message": "Job job_20251219020426_6797 failed: Invalid request data: 1 validation error for StandaloneInput\nbaseline\n  Field required [type=missing, input_value={'surveyTitle': 'Test Sur..., 'theme': 'test theme'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing", "logger": "src.app.handler", "stackTrace": ["  File \"/var/task/src/app/handler.py\", line 44, in lambda_handler\n    request_data = _parse_request(event)\n", "  File \"/var/task/src/app/handler.py\", line 132, in _parse_request\n    raise ValueError(f\"Invalid request data: {str(e)}\")\n"], "errorType": "ValueError", "errorMessage": "Invalid request data: 1 validation error for StandaloneInput\nbaseline\n  Field required [type=missing, input_value={'surveyTitle': 'Test Sur..., 'theme': 'test theme'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing", "requestId": "2736f4af-f543-4597-82a5-38f22154c291", "location": "/var/task/src/app/handler.py:lambda_handler:78", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
END RequestId: 2736f4af-f543-4597-82a5-38f22154c291
REPORT RequestId: 2736f4af-f543-4597-82a5-38f22154c291	Duration: 3.58 ms	Billed Duration: 4 ms	Memory Size: 1024 MB	Max Memory Used: 1024 MB	

2025-12-19 15:04:26 127.0.0.1 - - [19/Dec/2025 15:04:26] "[31m[1mPOST /analyze HTTP/1.1[0m" 400 -
START RequestId: 021a07c6-f30f-4dcf-b875-482ac1528a11 Version: $LATEST
2025-12-19 02:04:26 - src.app.handler - INFO - Starting text analysis job job_20251219020426_6230
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Starting text analysis job job_20251219020426_6230", "logger": "src.app.handler", "requestId": "814ddabf-4d39-40af-8e6f-21e21833e32a", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.handler - ERROR - Job job_20251219020426_6230 failed: Invalid request data: 1 validation error for StandaloneInput
baseline
  List should have at least 1 item after validation, not 0 [type=too_short, input_value=[], input_type=list]
    For further information visit https://errors.pydantic.dev/2.12/v/too_short
Traceback (most recent call last):
  File "/var/task/src/app/handler.py", line 120, in _parse_request
    input_model = StandaloneInput(**body)
  File "/var/task/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for StandaloneInput
baseline
  List should have at least 1 item after validation, not 0 [type=too_short, input_value=[], input_type=list]
    For further information visit https://errors.pydantic.dev/2.12/v/too_short

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/task/src/app/handler.py", line 44, in lambda_handler
    request_data = _parse_request(event)
  File "/var/task/src/app/handler.py", line 132, in _parse_request
    raise ValueError(f"Invalid request data: {str(e)}")
ValueError: Invalid request data: 1 validation error for StandaloneInput
baseline
  List should have at least 1 item after validation, not 0 [type=too_short, input_value=[], input_type=list]
    For further information visit https://errors.pydantic.dev/2.12/v/too_short
{"timestamp": "2025-12-19T02:04:26Z", "level": "ERROR", "message": "Job job_20251219020426_6230 failed: Invalid request data: 1 validation error for StandaloneInput\nbaseline\n  List should have at least 1 item after validation, not 0 [type=too_short, input_value=[], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.12/v/too_short", "logger": "src.app.handler", "stackTrace": ["  File \"/var/task/src/app/handler.py\", line 44, in lambda_handler\n    request_data = _parse_request(event)\n", "  File \"/var/task/src/app/handler.py\", line 132, in _parse_request\n    raise ValueError(f\"Invalid request data: {str(e)}\")\n"], "errorType": "ValueError", "errorMessage": "Invalid request data: 1 validation error for StandaloneInput\nbaseline\n  List should have at least 1 item after validation, not 0 [type=too_short, input_value=[], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.12/v/too_short", "requestId": "814ddabf-4d39-40af-8e6f-21e21833e32a", "location": "/var/task/src/app/handler.py:lambda_handler:78", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
END RequestId: 814ddabf-4d39-40af-8e6f-21e21833e32a
REPORT RequestId: 814ddabf-4d39-40af-8e6f-21e21833e32a	Duration: 3.13 ms	Billed Duration: 4 ms	Memory Size: 1024 MB	Max Memory Used: 1024 MB	

2025-12-19 15:04:26 127.0.0.1 - - [19/Dec/2025 15:04:26] "[31m[1mPOST /analyze HTTP/1.1[0m" 400 -
START RequestId: ae5f089d-2d29-4205-9308-10bd511ddd01 Version: $LATEST
2025-12-19 02:04:26 - src.app.handler - INFO - Starting text analysis job job_20251219020426_3301
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Starting text analysis job job_20251219020426_3301", "logger": "src.app.handler", "requestId": "4b68a3d4-c50b-40ba-981b-9c4a2a91b55c", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.handler - ERROR - Job job_20251219020426_3301 failed: Invalid request data: 1 validation error for StandaloneInput
baseline.0.id
  Field required [type=missing, input_value={'sentence': 'This is a test sentence'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
Traceback (most recent call last):
  File "/var/task/src/app/handler.py", line 120, in _parse_request
    input_model = StandaloneInput(**body)
  File "/var/task/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for StandaloneInput
baseline.0.id
  Field required [type=missing, input_value={'sentence': 'This is a test sentence'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/task/src/app/handler.py", line 44, in lambda_handler
    request_data = _parse_request(event)
  File "/var/task/src/app/handler.py", line 132, in _parse_request
    raise ValueError(f"Invalid request data: {str(e)}")
ValueError: Invalid request data: 1 validation error for StandaloneInput
baseline.0.id
  Field required [type=missing, input_value={'sentence': 'This is a test sentence'}, input_type=dict]
    For further information visit https://errors.pydantic.dev/2.12/v/missing
{"timestamp": "2025-12-19T02:04:26Z", "level": "ERROR", "message": "Job job_20251219020426_3301 failed: Invalid request data: 1 validation error for StandaloneInput\nbaseline.0.id\n  Field required [type=missing, input_value={'sentence': 'This is a test sentence'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing", "logger": "src.app.handler", "stackTrace": ["  File \"/var/task/src/app/handler.py\", line 44, in lambda_handler\n    request_data = _parse_request(event)\n", "  File \"/var/task/src/app/handler.py\", line 132, in _parse_request\n    raise ValueError(f\"Invalid request data: {str(e)}\")\n"], "errorType": "ValueError", "errorMessage": "Invalid request data: 1 validation error for StandaloneInput\nbaseline.0.id\n  Field required [type=missing, input_value={'sentence': 'This is a test sentence'}, input_type=dict]\n    For further information visit https://errors.pydantic.dev/2.12/v/missing", "requestId": "4b68a3d4-c50b-40ba-981b-9c4a2a91b55c", "location": "/var/task/src/app/handler.py:lambda_handler:78", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
END RequestId: 4b68a3d4-c50b-40ba-981b-9c4a2a91b55c
REPORT RequestId: 4b68a3d4-c50b-40ba-981b-9c4a2a91b55c	Duration: 3.68 ms	Billed Duration: 4 ms	Memory Size: 1024 MB	Max Memory Used: 1024 MB	

2025-12-19 15:04:26 127.0.0.1 - - [19/Dec/2025 15:04:26] "[31m[1mPOST /analyze HTTP/1.1[0m" 400 -
START RequestId: 8e0b8723-3f06-4c5d-87ba-fddb39b1ca26 Version: $LATEST
2025-12-19 02:04:26 - src.app.handler - INFO - Starting text analysis job job_20251219020426_6966
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Starting text analysis job job_20251219020426_6966", "logger": "src.app.handler", "requestId": "c2ab3d67-ad19-4ba1-b621-22f3bc6cfb9b", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.handler - ERROR - Job job_20251219020426_6966 failed: Invalid request data: 1 validation error for StandaloneInput
baseline
  Value error, All sentence IDs must be unique within the baseline [type=value_error, input_value=[{'sentence': 'First sent..., 'id': 'duplicate-id'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.12/v/value_error
Traceback (most recent call last):
  File "/var/task/src/app/handler.py", line 120, in _parse_request
    input_model = StandaloneInput(**body)
  File "/var/task/pydantic/main.py", line 250, in __init__
    validated_self = self.__pydantic_validator__.validate_python(data, self_instance=self)
pydantic_core._pydantic_core.ValidationError: 1 validation error for StandaloneInput
baseline
  Value error, All sentence IDs must be unique within the baseline [type=value_error, input_value=[{'sentence': 'First sent..., 'id': 'duplicate-id'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.12/v/value_error

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/var/task/src/app/handler.py", line 44, in lambda_handler
    request_data = _parse_request(event)
  File "/var/task/src/app/handler.py", line 132, in _parse_request
    raise ValueError(f"Invalid request data: {str(e)}")
ValueError: Invalid request data: 1 validation error for StandaloneInput
baseline
  Value error, All sentence IDs must be unique within the baseline [type=value_error, input_value=[{'sentence': 'First sent..., 'id': 'duplicate-id'}], input_type=list]
    For further information visit https://errors.pydantic.dev/2.12/v/value_error
{"timestamp": "2025-12-19T02:04:26Z", "level": "ERROR", "message": "Job job_20251219020426_6966 failed: Invalid request data: 1 validation error for StandaloneInput\nbaseline\n  Value error, All sentence IDs must be unique within the baseline [type=value_error, input_value=[{'sentence': 'First sent..., 'id': 'duplicate-id'}], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.12/v/value_error", "logger": "src.app.handler", "stackTrace": ["  File \"/var/task/src/app/handler.py\", line 44, in lambda_handler\n    request_data = _parse_request(event)\n", "  File \"/var/task/src/app/handler.py\", line 132, in _parse_request\n    raise ValueError(f\"Invalid request data: {str(e)}\")\n"], "errorType": "ValueError", "errorMessage": "Invalid request data: 1 validation error for StandaloneInput\nbaseline\n  Value error, All sentence IDs must be unique within the baseline [type=value_error, input_value=[{'sentence': 'First sent..., 'id': 'duplicate-id'}], input_type=list]\n    For further information visit https://errors.pydantic.dev/2.12/v/value_error", "requestId": "c2ab3d67-ad19-4ba1-b621-22f3bc6cfb9b", "location": "/var/task/src/app/handler.py:lambda_handler:78", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
END RequestId: c2ab3d67-ad19-4ba1-b621-22f3bc6cfb9b
REPORT RequestId: c2ab3d67-ad19-4ba1-b621-22f3bc6cfb9b	Duration: 3.29 ms	Billed Duration: 4 ms	Memory Size: 1024 MB	Max Memory Used: 1024 MB	

2025-12-19 15:04:26 127.0.0.1 - - [19/Dec/2025 15:04:26] "[31m[1mPOST /analyze HTTP/1.1[0m" 400 -
START RequestId: 90ef08fc-3c83-43aa-aa41-1292443cee2c Version: $LATEST
2025-12-19 02:04:26 - src.app.handler - INFO - Starting text analysis job job_20251219020426_2737
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Starting text analysis job job_20251219020426_2737", "logger": "src.app.handler", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.handler - DEBUG - Parsed request: {'type': 'standalone', 'surveyTitle': 'Large Survey', 'theme': 'performance testing', 'baseline': [{'sentence': 'Sentence number 0', 'id': 'id-0'}, {'sentence': 'Sentence number 1', 'id': 'id-1'}, {'sentence': 'Sentence number 2', 'id': 'id-2'}, {'sentence': 'Sentence number 3', 'id': 'id-3'}, {'sentence': 'Sentence number 4', 'id': 'id-4'}, {'sentence': 'Sentence number 5', 'id': 'id-5'}, {'sentence': 'Sentence number 6', 'id': 'id-6'}, {'sentence': 'Sentence number 7', 'id': 'id-7'}, {'sentence': 'Sentence number 8', 'id': 'id-8'}, {'sentence': 'Sentence number 9', 'id': 'id-9'}, {'sentence': 'Sentence number 10', 'id': 'id-10'}, {'sentence': 'Sentence number 11', 'id': 'id-11'}, {'sentence': 'Sentence number 12', 'id': 'id-12'}, {'sentence': 'Sentence number 13', 'id': 'id-13'}, {'sentence': 'Sentence number 14', 'id': 'id-14'}, {'sentence': 'Sentence number 15', 'id': 'id-15'}, {'sentence': 'Sentence number 16', 'id': 'id-16'}, {'sentence': 'Sentence number 17', 'id': 'id-17'}, {'sentence': 'Sentence number 18', 'id': 'id-18'}, {'sentence': 'Sentence number 19', 'id': 'id-19'}, {'sentence': 'Sentence number 20', 'id': 'id-20'}, {'sentence': 'Sentence number 21', 'id': 'id-21'}, {'sentence': 'Sentence number 22', 'id': 'id-22'}, {'sentence': 'Sentence number 23', 'id': 'id-23'}, {'sentence': 'Sentence number 24', 'id': 'id-24'}, {'sentence': 'Sentence number 25', 'id': 'id-25'}, {'sentence': 'Sentence number 26', 'id': 'id-26'}, {'sentence': 'Sentence number 27', 'id': 'id-27'}, {'sentence': 'Sentence number 28', 'id': 'id-28'}, {'sentence': 'Sentence number 29', 'id': 'id-29'}, {'sentence': 'Sentence number 30', 'id': 'id-30'}, {'sentence': 'Sentence number 31', 'id': 'id-31'}, {'sentence': 'Sentence number 32', 'id': 'id-32'}, {'sentence': 'Sentence number 33', 'id': 'id-33'}, {'sentence': 'Sentence number 34', 'id': 'id-34'}, {'sentence': 'Sentence number 35', 'id': 'id-35'}, {'sentence': 'Sentence number 36', 'id': 'id-36'}, {'sentence': 'Sentence number 37', 'id': 'id-37'}, {'sentence': 'Sentence number 38', 'id': 'id-38'}, {'sentence': 'Sentence number 39', 'id': 'id-39'}, {'sentence': 'Sentence number 40', 'id': 'id-40'}, {'sentence': 'Sentence number 41', 'id': 'id-41'}, {'sentence': 'Sentence number 42', 'id': 'id-42'}, {'sentence': 'Sentence number 43', 'id': 'id-43'}, {'sentence': 'Sentence number 44', 'id': 'id-44'}, {'sentence': 'Sentence number 45', 'id': 'id-45'}, {'sentence': 'Sentence number 46', 'id': 'id-46'}, {'sentence': 'Sentence number 47', 'id': 'id-47'}, {'sentence': 'Sentence number 48', 'id': 'id-48'}, {'sentence': 'Sentence number 49', 'id': 'id-49'}]}
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Parsed request: {'type': 'standalone', 'surveyTitle': 'Large Survey', 'theme': 'performance testing', 'baseline': [{'sentence': 'Sentence number 0', 'id': 'id-0'}, {'sentence': 'Sentence number 1', 'id': 'id-1'}, {'sentence': 'Sentence number 2', 'id': 'id-2'}, {'sentence': 'Sentence number 3', 'id': 'id-3'}, {'sentence': 'Sentence number 4', 'id': 'id-4'}, {'sentence': 'Sentence number 5', 'id': 'id-5'}, {'sentence': 'Sentence number 6', 'id': 'id-6'}, {'sentence': 'Sentence number 7', 'id': 'id-7'}, {'sentence': 'Sentence number 8', 'id': 'id-8'}, {'sentence': 'Sentence number 9', 'id': 'id-9'}, {'sentence': 'Sentence number 10', 'id': 'id-10'}, {'sentence': 'Sentence number 11', 'id': 'id-11'}, {'sentence': 'Sentence number 12', 'id': 'id-12'}, {'sentence': 'Sentence number 13', 'id': 'id-13'}, {'sentence': 'Sentence number 14', 'id': 'id-14'}, {'sentence': 'Sentence number 15', 'id': 'id-15'}, {'sentence': 'Sentence number 16', 'id': 'id-16'}, {'sentence': 'Sentence number 17', 'id': 'id-17'}, {'sentence': 'Sentence number 18', 'id': 'id-18'}, {'sentence': 'Sentence number 19', 'id': 'id-19'}, {'sentence': 'Sentence number 20', 'id': 'id-20'}, {'sentence': 'Sentence number 21', 'id': 'id-21'}, {'sentence': 'Sentence number 22', 'id': 'id-22'}, {'sentence': 'Sentence number 23', 'id': 'id-23'}, {'sentence': 'Sentence number 24', 'id': 'id-24'}, {'sentence': 'Sentence number 25', 'id': 'id-25'}, {'sentence': 'Sentence number 26', 'id': 'id-26'}, {'sentence': 'Sentence number 27', 'id': 'id-27'}, {'sentence': 'Sentence number 28', 'id': 'id-28'}, {'sentence': 'Sentence number 29', 'id': 'id-29'}, {'sentence': 'Sentence number 30', 'id': 'id-30'}, {'sentence': 'Sentence number 31', 'id': 'id-31'}, {'sentence': 'Sentence number 32', 'id': 'id-32'}, {'sentence': 'Sentence number 33', 'id': 'id-33'}, {'sentence': 'Sentence number 34', 'id': 'id-34'}, {'sentence': 'Sentence number 35', 'id': 'id-35'}, {'sentence': 'Sentence number 36', 'id': 'id-36'}, {'sentence': 'Sentence number 37', 'id': 'id-37'}, {'sentence': 'Sentence number 38', 'id': 'id-38'}, {'sentence': 'Sentence number 39', 'id': 'id-39'}, {'sentence': 'Sentence number 40', 'id': 'id-40'}, {'sentence': 'Sentence number 41', 'id': 'id-41'}, {'sentence': 'Sentence number 42', 'id': 'id-42'}, {'sentence': 'Sentence number 43', 'id': 'id-43'}, {'sentence': 'Sentence number 44', 'id': 'id-44'}, {'sentence': 'Sentence number 45', 'id': 'id-45'}, {'sentence': 'Sentence number 46', 'id': 'id-46'}, {'sentence': 'Sentence number 47', 'id': 'id-47'}, {'sentence': 'Sentence number 48', 'id': 'id-48'}, {'sentence': 'Sentence number 49', 'id': 'id-49'}]}", "logger": "src.app.handler", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.preprocessing - DEBUG - TextPreprocessor initialized
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "TextPreprocessor initialized", "logger": "src.app.pipeline.preprocessing", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.embedding - DEBUG - EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2", "logger": "src.app.pipeline.embedding", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.clustering - DEBUG - ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine", "logger": "src.app.pipeline.clustering", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.sentiment - DEBUG - SentimentAnalyzer initialized with VADER
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "SentimentAnalyzer initialized with VADER", "logger": "src.app.pipeline.sentiment", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.insights - DEBUG - InsightGenerator initialized with sophisticated template-based logic
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "InsightGenerator initialized with sophisticated template-based logic", "logger": "src.app.pipeline.insights", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.comparison - DEBUG - ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2", "logger": "src.app.pipeline.comparison", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.orchestrator - DEBUG - PipelineOrchestrator initialized with all components
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "PipelineOrchestrator initialized with all components", "logger": "src.app.pipeline.orchestrator", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.handler - INFO - Processing standalone analysis request
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Processing standalone analysis request", "logger": "src.app.handler", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.orchestrator - INFO - Starting standalone analysis for job job_20251219020426_2737
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Starting standalone analysis for job job_20251219020426_2737", "logger": "src.app.pipeline.orchestrator", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.orchestrator - DEBUG - Preprocessing 50 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Preprocessing 50 sentences", "logger": "src.app.pipeline.orchestrator", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.preprocessing - DEBUG - Preprocessing 50 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Preprocessing 50 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.preprocessing - DEBUG - Preprocessing complete: 50 -> 50 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Preprocessing complete: 50 -> 50 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.orchestrator - DEBUG - Starting parallel execution of sentiment analysis and (embedding + clustering)
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Starting parallel execution of sentiment analysis and (embedding + clustering)", "logger": "src.app.pipeline.orchestrator", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.sentiment - DEBUG - Analyzing sentiment for 50 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Analyzing sentiment for 50 sentences", "logger": "src.app.pipeline.sentiment", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.orchestrator - DEBUG - Generating sentence embeddings
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Generating sentence embeddings", "logger": "src.app.pipeline.orchestrator", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.embedding - DEBUG - Generating embeddings for 50 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Generating embeddings for 50 sentences", "logger": "src.app.pipeline.embedding", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.embedding - DEBUG - Cache miss for 50 sentences
{"timestamp": "2025-12-19T02:04:26Z", "level": "DEBUG", "message": "Cache miss for 50 sentences", "logger": "src.app.pipeline.embedding", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
2025-12-19 02:04:26 - src.app.pipeline.embedding - INFO - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...", "logger": "src.app.pipeline.embedding", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:26"}
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Use pytorch device_name: cpu", "logger": "sentence_transformers.SentenceTransformer", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d"}
{"timestamp": "2025-12-19T02:04:26Z", "level": "INFO", "message": "Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2", "logger": "sentence_transformers.SentenceTransformer", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d"}
2025-12-19 02:04:30 - src.app.pipeline.embedding - INFO - Successfully loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
{"timestamp": "2025-12-19T02:04:30Z", "level": "INFO", "message": "Successfully loaded embedding model: sentence-transformers/all-MiniLM-L6-v2", "logger": "src.app.pipeline.embedding", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}

Batches:   0%|          | 0/2 [00:00<?, ?it/s]
Batches: 100%|██████████| 2/2 [00:00<00:00, 35.01it/s]
2025-12-19 02:04:30 - src.app.pipeline.orchestrator - DEBUG - Clustering sentences
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Clustering sentences", "logger": "src.app.pipeline.orchestrator", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.clustering - DEBUG - Clustering 50 sentences
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Clustering 50 sentences", "logger": "src.app.pipeline.clustering", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.clustering - INFO - Clustering complete: 1 clusters, 0 noise points
{"timestamp": "2025-12-19T02:04:30Z", "level": "INFO", "message": "Clustering complete: 1 clusters, 0 noise points", "logger": "src.app.pipeline.clustering", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.orchestrator - DEBUG - Parallel execution completed
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Parallel execution completed", "logger": "src.app.pipeline.orchestrator", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.orchestrator - DEBUG - Aggregating sentiment by cluster
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Aggregating sentiment by cluster", "logger": "src.app.pipeline.orchestrator", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.sentiment - DEBUG - Aggregating sentiment for 1 clusters
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Aggregating sentiment for 1 clusters", "logger": "src.app.pipeline.sentiment", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.orchestrator - DEBUG - Generating cluster insights
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Generating cluster insights", "logger": "src.app.pipeline.orchestrator", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.insights - DEBUG - Generating insights for cluster 0 with 50 sentences
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Generating insights for cluster 0 with 50 sentences", "logger": "src.app.pipeline.insights", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.orchestrator - INFO - Completed standalone analysis in 0.0ms
{"timestamp": "2025-12-19T02:04:30Z", "level": "INFO", "message": "Completed standalone analysis in 0.0ms", "logger": "src.app.pipeline.orchestrator", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.handler - INFO - Completed job job_20251219020426_2737 in 0.0ms
{"timestamp": "2025-12-19T02:04:30Z", "level": "INFO", "message": "Completed job job_20251219020426_2737 in 0.0ms", "logger": "src.app.handler", "requestId": "80534df4-336c-4a71-96dd-1b4779901a1d", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
END RequestId: 80534df4-336c-4a71-96dd-1b4779901a1d
REPORT RequestId: 80534df4-336c-4a71-96dd-1b4779901a1d	Duration: 4339.50 ms	Billed Duration: 4340 ms	Memory Size: 1024 MB	Max Memory Used: 1024 MB	

2025-12-19 15:04:30 127.0.0.1 - - [19/Dec/2025 15:04:30] "POST /analyze HTTP/1.1" 200 -
2025-12-19 15:04:30 127.0.0.1 - - [19/Dec/2025 15:04:30] "[31m[1mGET /analyze HTTP/1.1[0m" 403 -
2025-12-19 15:04:30 127.0.0.1 - - [19/Dec/2025 15:04:30] "[31m[1mPUT /analyze HTTP/1.1[0m" 403 -
2025-12-19 15:04:30,455 | Constructed Event 1.0 to invoke Lambda. Event: {'httpMethod': 'POST', 'body': '{"surveyTitle": "Header Test", "theme": "testing", "baseline": [{"sentence": "Test sentence for headers", "id": "header-test-001"}]}', 'resource': '/analyze', 'requestContext': {'resourceId': '123456', 'apiId': '1234567890', 'resourcePath': '/analyze', 'httpMethod': 'POST', 'requestId': '9458ed69-669a-4bc6-a4d4-d64628446719', 'accountId': '123456789012', 'stage': 'Prod', 'identity': {'apiKey': None, 'userArn': None, 'cognitoAuthenticationType': None, 'caller': None, 'userAgent': 'Custom User Agent String', 'user': None, 'cognitoIdentityPoolId': None, 'cognitoAuthenticationProvider': None, 'sourceIp': '127.0.0.1', 'accountId': None}, 'extendedRequestId': None, 'path': '/analyze', 'protocol': 'HTTP/1.1', 'domainName': '127.0.0.1:3000', 'requestTimeEpoch': 1766109782250, 'requestTime': '19/Dec/2025:02:03:02 +0000'}, 'queryStringParameters': None, 'multiValueQueryStringParameters': None, 'headers': {'Host': '127.0.0.1:3000', 'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '132', 'X-Forwarded-Proto': 'http', 'X-Forwarded-Port': '3000'}, 'multiValueHeaders': {'Host': ['127.0.0.1:3000'], 'User-Agent': ['python-requests/2.32.5'], 'Accept-Encoding': ['gzip, deflate'], 'Accept': ['*/*'], 'Connection': ['keep-alive'], 'Content-Type': ['application/json'], 'Content-Length': ['132'], 'X-Forwarded-Proto': ['http'], 'X-Forwarded-Port': ['3000']}, 'pathParameters': None, 'stageVariables': None, 'path': '/analyze', 'isBase64Encoded': False}
2025-12-19 15:04:30,456 | Found one Lambda function with name 'TextAnalysisFunction'
2025-12-19 15:04:30,456 | Invoking functions/text_analysis/handler.lambda_handler (python3.13)
2025-12-19 15:04:30,456 | Environment variables data found for specific function in standard format
2025-12-19 15:04:30,456 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:30,456 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:30,456 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:30,456 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:30,461 | Lambda function 'TextAnalysisFunction' is already running
2025-12-19 15:04:30,461 | Starting a timer for 30 seconds for function 'TextAnalysisFunction'
2025-12-19 15:04:30,462 | Container-963cf3748525 (concurrency available: 1/1) - ALLOWED for request ({"body": "{\"surveyTitle\": \"Header Test\", \"theme\": \"testing\", \"baseline\": [{\"sentence\": \"Test sentence for headers\", \"id\": \"header-test-001\"}]}", "headers": {"Accept": "*/*", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive", "Content-Length": "132", "Content-Type": "application/json", "Host": "127.0.0.1:3000", "User-Agent": "python-requests/2.32.5", "X-Forwarded-Port": "3000", "X-Forwarded-Proto": "http"}, "httpMethod": "POST", "isBase64Encoded": false, "multiValueHeaders": {"Accept": ["*/*"], "Accept-Encoding": ["gzip, deflate"], "Connection": ["keep-alive"], "Content-Length": ["132"], "Content-Type": ["application/json"], "Host": ["127.0.0.1:3000"], "User-Agent": ["python-requests/2.32.5"], "X-Forwarded-Port": ["3000"], "X-Forwarded-Proto": ["http"]}, "multiValueQueryStringParameters": null, "path": "/analyze", "pathParameters": null, "queryStringParameters": null, "requestContext": {"accountId": "123456789012", "apiId": "1234567890", "domainName": "127.0.0.1:3000", "extendedRequestId": null, "httpMethod": "POST", "identity": {"accountId": null, "apiKey": null, "caller": null, "cognitoAuthenticationProvider": null, "cognitoAuthenticationType": null, "cognitoIdentityPoolId": null, "sourceIp": "127.0.0.1", "user": null, "userAgent": "Custom User Agent String", "userArn": null}, "path": "/analyze", "protocol": "HTTP/1.1", "requestId": "9458ed69-669a-4bc6-a4d4-d64628446719", "requestTime": "19/Dec/2025:02:03:02 +0000", "requestTimeEpoch": 1766109782250, "resourceId": "123456", "resourcePath": "/analyze", "stage": "Prod"}, "resource": "/analyze", "stageVariables": null})
START RequestId: 187e954f-fa02-4ebc-adcb-def971275fc5 Version: $LATEST
2025-12-19 02:04:30 - src.app.handler - INFO - Starting text analysis job job_20251219020430_8063
{"timestamp": "2025-12-19T02:04:30Z", "level": "INFO", "message": "Starting text analysis job job_20251219020430_8063", "logger": "src.app.handler", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.handler - DEBUG - Parsed request: {'type': 'standalone', 'surveyTitle': 'Header Test', 'theme': 'testing', 'baseline': [{'sentence': 'Test sentence for headers', 'id': 'header-test-001'}]}
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Parsed request: {'type': 'standalone', 'surveyTitle': 'Header Test', 'theme': 'testing', 'baseline': [{'sentence': 'Test sentence for headers', 'id': 'header-test-001'}]}", "logger": "src.app.handler", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.preprocessing - DEBUG - TextPreprocessor initialized
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "TextPreprocessor initialized", "logger": "src.app.pipeline.preprocessing", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.embedding - DEBUG - EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2", "logger": "src.app.pipeline.embedding", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.clustering - DEBUG - ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine", "logger": "src.app.pipeline.clustering", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.sentiment - DEBUG - SentimentAnalyzer initialized with VADER
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "SentimentAnalyzer initialized with VADER", "logger": "src.app.pipeline.sentiment", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.insights - DEBUG - InsightGenerator initialized with sophisticated template-based logic
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "InsightGenerator initialized with sophisticated template-based logic", "logger": "src.app.pipeline.insights", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.comparison - DEBUG - ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2", "logger": "src.app.pipeline.comparison", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.orchestrator - DEBUG - PipelineOrchestrator initialized with all components
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "PipelineOrchestrator initialized with all components", "logger": "src.app.pipeline.orchestrator", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.handler - INFO - Processing standalone analysis request
{"timestamp": "2025-12-19T02:04:30Z", "level": "INFO", "message": "Processing standalone analysis request", "logger": "src.app.handler", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.orchestrator - INFO - Starting standalone analysis for job job_20251219020430_8063
{"timestamp": "2025-12-19T02:04:30Z", "level": "INFO", "message": "Starting standalone analysis for job job_20251219020430_8063", "logger": "src.app.pipeline.orchestrator", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.orchestrator - DEBUG - Preprocessing 1 sentences
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Preprocessing 1 sentences", "logger": "src.app.pipeline.orchestrator", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.preprocessing - DEBUG - Preprocessing 1 sentences
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Preprocessing 1 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.preprocessing - DEBUG - Preprocessing complete: 1 -> 1 sentences
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Preprocessing complete: 1 -> 1 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.orchestrator - DEBUG - Starting parallel execution of sentiment analysis and (embedding + clustering)
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Starting parallel execution of sentiment analysis and (embedding + clustering)", "logger": "src.app.pipeline.orchestrator", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.sentiment - DEBUG - Analyzing sentiment for 1 sentences
2025-12-19 02:04:30 - src.app.pipeline.orchestrator - DEBUG - Generating sentence embeddings
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Analyzing sentiment for 1 sentences", "logger": "src.app.pipeline.sentiment", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Generating sentence embeddings", "logger": "src.app.pipeline.orchestrator", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.embedding - DEBUG - Generating embeddings for 1 sentences
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Generating embeddings for 1 sentences", "logger": "src.app.pipeline.embedding", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.embedding - DEBUG - Cache miss for 1 sentences
{"timestamp": "2025-12-19T02:04:30Z", "level": "DEBUG", "message": "Cache miss for 1 sentences", "logger": "src.app.pipeline.embedding", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
2025-12-19 02:04:30 - src.app.pipeline.embedding - INFO - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...
{"timestamp": "2025-12-19T02:04:30Z", "level": "INFO", "message": "Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...", "logger": "src.app.pipeline.embedding", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:30"}
{"timestamp": "2025-12-19T02:04:30Z", "level": "INFO", "message": "Use pytorch device_name: cpu", "logger": "sentence_transformers.SentenceTransformer", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9"}
{"timestamp": "2025-12-19T02:04:30Z", "level": "INFO", "message": "Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2", "logger": "sentence_transformers.SentenceTransformer", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9"}
2025-12-19 02:04:34 - src.app.pipeline.embedding - INFO - Successfully loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
{"timestamp": "2025-12-19T02:04:34Z", "level": "INFO", "message": "Successfully loaded embedding model: sentence-transformers/all-MiniLM-L6-v2", "logger": "src.app.pipeline.embedding", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}

Batches:   0%|          | 0/1 [00:00<?, ?it/s]
Batches: 100%|██████████| 1/1 [00:00<00:00, 38.55it/s]
2025-12-19 02:04:34 - src.app.pipeline.orchestrator - DEBUG - Clustering sentences
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Clustering sentences", "logger": "src.app.pipeline.orchestrator", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.clustering - DEBUG - Clustering 1 sentences
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Clustering 1 sentences", "logger": "src.app.pipeline.clustering", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.clustering - DEBUG - Not enough sentences for clustering, all marked as noise
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Not enough sentences for clustering, all marked as noise", "logger": "src.app.pipeline.clustering", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.orchestrator - DEBUG - Parallel execution completed
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Parallel execution completed", "logger": "src.app.pipeline.orchestrator", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.orchestrator - DEBUG - Aggregating sentiment by cluster
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Aggregating sentiment by cluster", "logger": "src.app.pipeline.orchestrator", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.sentiment - DEBUG - Aggregating sentiment for 1 clusters
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Aggregating sentiment for 1 clusters", "logger": "src.app.pipeline.sentiment", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.orchestrator - DEBUG - Generating cluster insights
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Generating cluster insights", "logger": "src.app.pipeline.orchestrator", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.orchestrator - INFO - Completed standalone analysis in 0.0ms
{"timestamp": "2025-12-19T02:04:34Z", "level": "INFO", "message": "Completed standalone analysis in 0.0ms", "logger": "src.app.pipeline.orchestrator", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.handler - INFO - Completed job job_20251219020430_8063 in 0.0ms
{"timestamp": "2025-12-19T02:04:34Z", "level": "INFO", "message": "Completed job job_20251219020430_8063 in 0.0ms", "logger": "src.app.handler", "requestId": "234d97ee-0edb-4ef3-8015-8d81a2d65ff9", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
END RequestId: 234d97ee-0edb-4ef3-8015-8d81a2d65ff9
REPORT RequestId: 234d97ee-0edb-4ef3-8015-8d81a2d65ff9	Duration: 4355.85 ms	Billed Duration: 4356 ms	Memory Size: 1024 MB	Max Memory Used: 1024 MB	

2025-12-19 15:04:34 127.0.0.1 - - [19/Dec/2025 15:04:34] "POST /analyze HTTP/1.1" 200 -
2025-12-19 15:04:34,826 | Constructed Event 1.0 to invoke Lambda. Event: {'httpMethod': 'POST', 'body': '{"surveyTitle": "Test Survey", "theme": "test theme", "baseline": [{"sentence": "Test sentence", "id": "test-001"}]}', 'resource': '/analyze', 'requestContext': {'resourceId': '123456', 'apiId': '1234567890', 'resourcePath': '/analyze', 'httpMethod': 'POST', 'requestId': '9458ed69-669a-4bc6-a4d4-d64628446719', 'accountId': '123456789012', 'stage': 'Prod', 'identity': {'apiKey': None, 'userArn': None, 'cognitoAuthenticationType': None, 'caller': None, 'userAgent': 'Custom User Agent String', 'user': None, 'cognitoIdentityPoolId': None, 'cognitoAuthenticationProvider': None, 'sourceIp': '127.0.0.1', 'accountId': None}, 'extendedRequestId': None, 'path': '/analyze', 'protocol': 'HTTP/1.1', 'domainName': '127.0.0.1:3000', 'requestTimeEpoch': 1766109782250, 'requestTime': '19/Dec/2025:02:03:02 +0000'}, 'queryStringParameters': None, 'multiValueQueryStringParameters': None, 'headers': {'Host': '127.0.0.1:3000', 'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Type': 'application/json', 'Content-Length': '116', 'X-Forwarded-Proto': 'http', 'X-Forwarded-Port': '3000'}, 'multiValueHeaders': {'Host': ['127.0.0.1:3000'], 'User-Agent': ['python-requests/2.32.5'], 'Accept-Encoding': ['gzip, deflate'], 'Accept': ['*/*'], 'Connection': ['keep-alive'], 'Content-Type': ['application/json'], 'Content-Length': ['116'], 'X-Forwarded-Proto': ['http'], 'X-Forwarded-Port': ['3000']}, 'pathParameters': None, 'stageVariables': None, 'path': '/analyze', 'isBase64Encoded': False}
2025-12-19 15:04:34,826 | Found one Lambda function with name 'TextAnalysisFunction'
2025-12-19 15:04:34,826 | Invoking functions/text_analysis/handler.lambda_handler (python3.13)
2025-12-19 15:04:34,826 | Environment variables data found for specific function in standard format
2025-12-19 15:04:34,826 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:34,827 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:34,827 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:34,827 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:34,831 | Lambda function 'TextAnalysisFunction' is already running
2025-12-19 15:04:34,831 | Starting a timer for 30 seconds for function 'TextAnalysisFunction'
2025-12-19 15:04:34,832 | Container-963cf3748525 (concurrency available: 1/1) - ALLOWED for request ({"body": "{\"surveyTitle\": \"Test Survey\", \"theme\": \"test theme\", \"baseline\": [{\"sentence\": \"Test sentence\", \"id\": \"test-001\"}]}", "headers": {"Accept": "*/*", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive", "Content-Length": "116", "Content-Type": "application/json", "Host": "127.0.0.1:3000", "User-Agent": "python-requests/2.32.5", "X-Forwarded-Port": "3000", "X-Forwarded-Proto": "http"}, "httpMethod": "POST", "isBase64Encoded": false, "multiValueHeaders": {"Accept": ["*/*"], "Accept-Encoding": ["gzip, deflate"], "Connection": ["keep-alive"], "Content-Length": ["116"], "Content-Type": ["application/json"], "Host": ["127.0.0.1:3000"], "User-Agent": ["python-requests/2.32.5"], "X-Forwarded-Port": ["3000"], "X-Forwarded-Proto": ["http"]}, "multiValueQueryStringParameters": null, "path": "/analyze", "pathParameters": null, "queryStringParameters": null, "requestContext": {"accountId": "123456789012", "apiId": "1234567890", "domainName": "127.0.0.1:3000", "extendedRequestId": null, "httpMethod": "POST", "identity": {"accountId": null, "apiKey": null, "caller": null, "cognitoAuthenticationProvider": null, "cognitoAuthenticationType": null, "cognitoIdentityPoolId": null, "sourceIp": "127.0.0.1", "user": null, "userAgent": "Custom User Agent String", "userArn": null}, "path": "/analyze", "protocol": "HTTP/1.1", "requestId": "9458ed69-669a-4bc6-a4d4-d64628446719", "requestTime": "19/Dec/2025:02:03:02 +0000", "requestTimeEpoch": 1766109782250, "resourceId": "123456", "resourcePath": "/analyze", "stage": "Prod"}, "resource": "/analyze", "stageVariables": null})
START RequestId: 2de3fdc8-c544-4f34-9b45-28cbdf592063 Version: $LATEST
2025-12-19 02:04:34 - src.app.handler - INFO - Starting text analysis job job_20251219020434_6718
{"timestamp": "2025-12-19T02:04:34Z", "level": "INFO", "message": "Starting text analysis job job_20251219020434_6718", "logger": "src.app.handler", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.handler - DEBUG - Parsed request: {'type': 'standalone', 'surveyTitle': 'Test Survey', 'theme': 'test theme', 'baseline': [{'sentence': 'Test sentence', 'id': 'test-001'}]}
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Parsed request: {'type': 'standalone', 'surveyTitle': 'Test Survey', 'theme': 'test theme', 'baseline': [{'sentence': 'Test sentence', 'id': 'test-001'}]}", "logger": "src.app.handler", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.preprocessing - DEBUG - TextPreprocessor initialized
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "TextPreprocessor initialized", "logger": "src.app.pipeline.preprocessing", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.embedding - DEBUG - EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2", "logger": "src.app.pipeline.embedding", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.clustering - DEBUG - ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine", "logger": "src.app.pipeline.clustering", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.sentiment - DEBUG - SentimentAnalyzer initialized with VADER
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "SentimentAnalyzer initialized with VADER", "logger": "src.app.pipeline.sentiment", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.insights - DEBUG - InsightGenerator initialized with sophisticated template-based logic
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "InsightGenerator initialized with sophisticated template-based logic", "logger": "src.app.pipeline.insights", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.comparison - DEBUG - ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2", "logger": "src.app.pipeline.comparison", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.orchestrator - DEBUG - PipelineOrchestrator initialized with all components
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "PipelineOrchestrator initialized with all components", "logger": "src.app.pipeline.orchestrator", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.handler - INFO - Processing standalone analysis request
{"timestamp": "2025-12-19T02:04:34Z", "level": "INFO", "message": "Processing standalone analysis request", "logger": "src.app.handler", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.orchestrator - INFO - Starting standalone analysis for job job_20251219020434_6718
{"timestamp": "2025-12-19T02:04:34Z", "level": "INFO", "message": "Starting standalone analysis for job job_20251219020434_6718", "logger": "src.app.pipeline.orchestrator", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.orchestrator - DEBUG - Preprocessing 1 sentences
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Preprocessing 1 sentences", "logger": "src.app.pipeline.orchestrator", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.preprocessing - DEBUG - Preprocessing 1 sentences
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Preprocessing 1 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.preprocessing - DEBUG - Preprocessing complete: 1 -> 1 sentences
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Preprocessing complete: 1 -> 1 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.orchestrator - DEBUG - Starting parallel execution of sentiment analysis and (embedding + clustering)
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Starting parallel execution of sentiment analysis and (embedding + clustering)", "logger": "src.app.pipeline.orchestrator", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.sentiment - DEBUG - Analyzing sentiment for 1 sentences
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Analyzing sentiment for 1 sentences", "logger": "src.app.pipeline.sentiment", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.orchestrator - DEBUG - Generating sentence embeddings
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Generating sentence embeddings", "logger": "src.app.pipeline.orchestrator", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.embedding - DEBUG - Generating embeddings for 1 sentences
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Generating embeddings for 1 sentences", "logger": "src.app.pipeline.embedding", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.embedding - DEBUG - Cache miss for 1 sentences
{"timestamp": "2025-12-19T02:04:34Z", "level": "DEBUG", "message": "Cache miss for 1 sentences", "logger": "src.app.pipeline.embedding", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
2025-12-19 02:04:34 - src.app.pipeline.embedding - INFO - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...
{"timestamp": "2025-12-19T02:04:34Z", "level": "INFO", "message": "Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...", "logger": "src.app.pipeline.embedding", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:34"}
{"timestamp": "2025-12-19T02:04:34Z", "level": "INFO", "message": "Use pytorch device_name: cpu", "logger": "sentence_transformers.SentenceTransformer", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77"}
{"timestamp": "2025-12-19T02:04:34Z", "level": "INFO", "message": "Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2", "logger": "sentence_transformers.SentenceTransformer", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77"}
2025-12-19 02:04:39 - src.app.pipeline.embedding - INFO - Successfully loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
{"timestamp": "2025-12-19T02:04:39Z", "level": "INFO", "message": "Successfully loaded embedding model: sentence-transformers/all-MiniLM-L6-v2", "logger": "src.app.pipeline.embedding", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}

Batches:   0%|          | 0/1 [00:00<?, ?it/s]
Batches: 100%|██████████| 1/1 [00:00<00:00, 48.10it/s]
2025-12-19 02:04:39 - src.app.pipeline.orchestrator - DEBUG - Clustering sentences
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Clustering sentences", "logger": "src.app.pipeline.orchestrator", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.clustering - DEBUG - Clustering 1 sentences
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Clustering 1 sentences", "logger": "src.app.pipeline.clustering", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.clustering - DEBUG - Not enough sentences for clustering, all marked as noise
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Not enough sentences for clustering, all marked as noise", "logger": "src.app.pipeline.clustering", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.orchestrator - DEBUG - Parallel execution completed
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Parallel execution completed", "logger": "src.app.pipeline.orchestrator", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.orchestrator - DEBUG - Aggregating sentiment by cluster
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Aggregating sentiment by cluster", "logger": "src.app.pipeline.orchestrator", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.sentiment - DEBUG - Aggregating sentiment for 1 clusters
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Aggregating sentiment for 1 clusters", "logger": "src.app.pipeline.sentiment", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.orchestrator - DEBUG - Generating cluster insights
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Generating cluster insights", "logger": "src.app.pipeline.orchestrator", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.orchestrator - INFO - Completed standalone analysis in 0.0ms
{"timestamp": "2025-12-19T02:04:39Z", "level": "INFO", "message": "Completed standalone analysis in 0.0ms", "logger": "src.app.pipeline.orchestrator", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.handler - INFO - Completed job job_20251219020434_6718 in 0.0ms
{"timestamp": "2025-12-19T02:04:39Z", "level": "INFO", "message": "Completed job job_20251219020434_6718 in 0.0ms", "logger": "src.app.handler", "requestId": "f09a1c47-ca86-44a5-a5f2-0052d1f36f77", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
END RequestId: f09a1c47-ca86-44a5-a5f2-0052d1f36f77
REPORT RequestId: f09a1c47-ca86-44a5-a5f2-0052d1f36f77	Duration: 4891.62 ms	Billed Duration: 4892 ms	Memory Size: 1024 MB	Max Memory Used: 1024 MB	

2025-12-19 15:04:39 127.0.0.1 - - [19/Dec/2025 15:04:39] "POST /analyze HTTP/1.1" 200 -
2025-12-19 15:04:39 127.0.0.1 - - [19/Dec/2025 15:04:39] "[31m[1mGET / HTTP/1.1[0m" 403 -
2025-12-19 15:04:39,738 | Constructed Event 1.0 to invoke Lambda. Event: {'httpMethod': 'POST', 'body': '{"surveyTitle": "Test", "theme": "Test", "baseline": [{"sentence": "Test", "id": "test"}]}', 'resource': '/analyze', 'requestContext': {'resourceId': '123456', 'apiId': '1234567890', 'resourcePath': '/analyze', 'httpMethod': 'POST', 'requestId': '9458ed69-669a-4bc6-a4d4-d64628446719', 'accountId': '123456789012', 'stage': 'Prod', 'identity': {'apiKey': None, 'userArn': None, 'cognitoAuthenticationType': None, 'caller': None, 'userAgent': 'Custom User Agent String', 'user': None, 'cognitoIdentityPoolId': None, 'cognitoAuthenticationProvider': None, 'sourceIp': '127.0.0.1', 'accountId': None}, 'extendedRequestId': None, 'path': '/analyze', 'protocol': 'HTTP/1.1', 'domainName': '127.0.0.1:3000', 'requestTimeEpoch': 1766109782250, 'requestTime': '19/Dec/2025:02:03:02 +0000'}, 'queryStringParameters': None, 'multiValueQueryStringParameters': None, 'headers': {'Host': '127.0.0.1:3000', 'User-Agent': 'python-requests/2.32.5', 'Accept-Encoding': 'gzip, deflate', 'Accept': '*/*', 'Connection': 'keep-alive', 'Content-Length': '90', 'Content-Type': 'application/json', 'X-Forwarded-Proto': 'http', 'X-Forwarded-Port': '3000'}, 'multiValueHeaders': {'Host': ['127.0.0.1:3000'], 'User-Agent': ['python-requests/2.32.5'], 'Accept-Encoding': ['gzip, deflate'], 'Accept': ['*/*'], 'Connection': ['keep-alive'], 'Content-Length': ['90'], 'Content-Type': ['application/json'], 'X-Forwarded-Proto': ['http'], 'X-Forwarded-Port': ['3000']}, 'pathParameters': None, 'stageVariables': None, 'path': '/analyze', 'isBase64Encoded': False}
2025-12-19 15:04:39,739 | Found one Lambda function with name 'TextAnalysisFunction'
2025-12-19 15:04:39,739 | Invoking functions/text_analysis/handler.lambda_handler (python3.13)
2025-12-19 15:04:39,739 | Environment variables data found for specific function in standard format
2025-12-19 15:04:39,739 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:39,739 | Resolved absolute path to code is /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:39,739 | Resolving code path. Cwd=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build, CodeUri=/home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:39,739 | Resolved real code path to /home/anton/git/backend-task-2025/text-analysis-service/.aws-sam/build/TextAnalysisFunction
2025-12-19 15:04:39,745 | Lambda function 'TextAnalysisFunction' is already running
2025-12-19 15:04:39,745 | Starting a timer for 30 seconds for function 'TextAnalysisFunction'
2025-12-19 15:04:39,745 | Container-963cf3748525 (concurrency available: 1/1) - ALLOWED for request ({"body": "{\"surveyTitle\": \"Test\", \"theme\": \"Test\", \"baseline\": [{\"sentence\": \"Test\", \"id\": \"test\"}]}", "headers": {"Accept": "*/*", "Accept-Encoding": "gzip, deflate", "Connection": "keep-alive", "Content-Length": "90", "Content-Type": "application/json", "Host": "127.0.0.1:3000", "User-Agent": "python-requests/2.32.5", "X-Forwarded-Port": "3000", "X-Forwarded-Proto": "http"}, "httpMethod": "POST", "isBase64Encoded": false, "multiValueHeaders": {"Accept": ["*/*"], "Accept-Encoding": ["gzip, deflate"], "Connection": ["keep-alive"], "Content-Length": ["90"], "Content-Type": ["application/json"], "Host": ["127.0.0.1:3000"], "User-Agent": ["python-requests/2.32.5"], "X-Forwarded-Port": ["3000"], "X-Forwarded-Proto": ["http"]}, "multiValueQueryStringParameters": null, "path": "/analyze", "pathParameters": null, "queryStringParameters": null, "requestContext": {"accountId": "123456789012", "apiId": "1234567890", "domainName": "127.0.0.1:3000", "extendedRequestId": null, "httpMethod": "POST", "identity": {"accountId": null, "apiKey": null, "caller": null, "cognitoAuthenticationProvider": null, "cognitoAuthenticationType": null, "cognitoIdentityPoolId": null, "sourceIp": "127.0.0.1", "user": null, "userAgent": "Custom User Agent String", "userArn": null}, "path": "/analyze", "protocol": "HTTP/1.1", "requestId": "9458ed69-669a-4bc6-a4d4-d64628446719", "requestTime": "19/Dec/2025:02:03:02 +0000", "requestTimeEpoch": 1766109782250, "resourceId": "123456", "resourcePath": "/analyze", "stage": "Prod"}, "resource": "/analyze", "stageVariables": null})
START RequestId: 1a5f84c4-67ca-4057-a752-12972b5d19ce Version: $LATEST
2025-12-19 02:04:39 - src.app.handler - INFO - Starting text analysis job job_20251219020439_1769
{"timestamp": "2025-12-19T02:04:39Z", "level": "INFO", "message": "Starting text analysis job job_20251219020439_1769", "logger": "src.app.handler", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.handler - DEBUG - Parsed request: {'type': 'standalone', 'surveyTitle': 'Test', 'theme': 'Test', 'baseline': [{'sentence': 'Test', 'id': 'test'}]}
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Parsed request: {'type': 'standalone', 'surveyTitle': 'Test', 'theme': 'Test', 'baseline': [{'sentence': 'Test', 'id': 'test'}]}", "logger": "src.app.handler", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.preprocessing - DEBUG - TextPreprocessor initialized
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "TextPreprocessor initialized", "logger": "src.app.pipeline.preprocessing", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.embedding - DEBUG - EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "EmbeddingModel initialized with model: sentence-transformers/all-MiniLM-L6-v2", "logger": "src.app.pipeline.embedding", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.clustering - DEBUG - ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "ClusterAnalyzer initialized: eps=0.3, min_samples=2, metric=cosine", "logger": "src.app.pipeline.clustering", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.sentiment - DEBUG - SentimentAnalyzer initialized with VADER
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "SentimentAnalyzer initialized with VADER", "logger": "src.app.pipeline.sentiment", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.insights - DEBUG - InsightGenerator initialized with sophisticated template-based logic
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "InsightGenerator initialized with sophisticated template-based logic", "logger": "src.app.pipeline.insights", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.comparison - DEBUG - ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "ComparisonAnalyzer initialized with similarity_threshold=0.7, min_cluster_size=2", "logger": "src.app.pipeline.comparison", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.orchestrator - DEBUG - PipelineOrchestrator initialized with all components
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "PipelineOrchestrator initialized with all components", "logger": "src.app.pipeline.orchestrator", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.handler - INFO - Processing standalone analysis request
{"timestamp": "2025-12-19T02:04:39Z", "level": "INFO", "message": "Processing standalone analysis request", "logger": "src.app.handler", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.orchestrator - INFO - Starting standalone analysis for job job_20251219020439_1769
{"timestamp": "2025-12-19T02:04:39Z", "level": "INFO", "message": "Starting standalone analysis for job job_20251219020439_1769", "logger": "src.app.pipeline.orchestrator", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.orchestrator - DEBUG - Preprocessing 1 sentences
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Preprocessing 1 sentences", "logger": "src.app.pipeline.orchestrator", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.preprocessing - DEBUG - Preprocessing 1 sentences
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Preprocessing 1 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.preprocessing - DEBUG - Preprocessing complete: 1 -> 1 sentences
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Preprocessing complete: 1 -> 1 sentences", "logger": "src.app.pipeline.preprocessing", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.orchestrator - DEBUG - Starting parallel execution of sentiment analysis and (embedding + clustering)
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Starting parallel execution of sentiment analysis and (embedding + clustering)", "logger": "src.app.pipeline.orchestrator", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.sentiment - DEBUG - Analyzing sentiment for 1 sentences
2025-12-19 02:04:39 - src.app.pipeline.orchestrator - DEBUG - Generating sentence embeddings
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Generating sentence embeddings", "logger": "src.app.pipeline.orchestrator", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.embedding - DEBUG - Generating embeddings for 1 sentences
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Analyzing sentiment for 1 sentences", "logger": "src.app.pipeline.sentiment", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Generating embeddings for 1 sentences", "logger": "src.app.pipeline.embedding", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.embedding - DEBUG - Cache miss for 1 sentences
{"timestamp": "2025-12-19T02:04:39Z", "level": "DEBUG", "message": "Cache miss for 1 sentences", "logger": "src.app.pipeline.embedding", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
2025-12-19 02:04:39 - src.app.pipeline.embedding - INFO - Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...
{"timestamp": "2025-12-19T02:04:39Z", "level": "INFO", "message": "Loading embedding model: sentence-transformers/all-MiniLM-L6-v2...", "logger": "src.app.pipeline.embedding", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:39"}
{"timestamp": "2025-12-19T02:04:39Z", "level": "INFO", "message": "Use pytorch device_name: cpu", "logger": "sentence_transformers.SentenceTransformer", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959"}
{"timestamp": "2025-12-19T02:04:39Z", "level": "INFO", "message": "Load pretrained SentenceTransformer: sentence-transformers/all-MiniLM-L6-v2", "logger": "sentence_transformers.SentenceTransformer", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959"}
2025-12-19 02:04:43 - src.app.pipeline.embedding - INFO - Successfully loaded embedding model: sentence-transformers/all-MiniLM-L6-v2
{"timestamp": "2025-12-19T02:04:43Z", "level": "INFO", "message": "Successfully loaded embedding model: sentence-transformers/all-MiniLM-L6-v2", "logger": "src.app.pipeline.embedding", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:43"}

Batches:   0%|          | 0/1 [00:00<?, ?it/s]
Batches: 100%|██████████| 1/1 [00:00<00:00, 129.43it/s]
2025-12-19 02:04:43 - src.app.pipeline.orchestrator - DEBUG - Clustering sentences
{"timestamp": "2025-12-19T02:04:43Z", "level": "DEBUG", "message": "Clustering sentences", "logger": "src.app.pipeline.orchestrator", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:43"}
2025-12-19 02:04:43 - src.app.pipeline.clustering - DEBUG - Clustering 1 sentences
{"timestamp": "2025-12-19T02:04:43Z", "level": "DEBUG", "message": "Clustering 1 sentences", "logger": "src.app.pipeline.clustering", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:43"}
2025-12-19 02:04:43 - src.app.pipeline.clustering - DEBUG - Not enough sentences for clustering, all marked as noise
{"timestamp": "2025-12-19T02:04:43Z", "level": "DEBUG", "message": "Not enough sentences for clustering, all marked as noise", "logger": "src.app.pipeline.clustering", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:43"}
2025-12-19 02:04:43 - src.app.pipeline.orchestrator - DEBUG - Parallel execution completed
{"timestamp": "2025-12-19T02:04:43Z", "level": "DEBUG", "message": "Parallel execution completed", "logger": "src.app.pipeline.orchestrator", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:43"}
2025-12-19 02:04:43 - src.app.pipeline.orchestrator - DEBUG - Aggregating sentiment by cluster
{"timestamp": "2025-12-19T02:04:43Z", "level": "DEBUG", "message": "Aggregating sentiment by cluster", "logger": "src.app.pipeline.orchestrator", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:43"}
2025-12-19 02:04:43 - src.app.pipeline.sentiment - DEBUG - Aggregating sentiment for 1 clusters
{"timestamp": "2025-12-19T02:04:43Z", "level": "DEBUG", "message": "Aggregating sentiment for 1 clusters", "logger": "src.app.pipeline.sentiment", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:43"}
2025-12-19 02:04:43 - src.app.pipeline.orchestrator - DEBUG - Generating cluster insights
{"timestamp": "2025-12-19T02:04:43Z", "level": "DEBUG", "message": "Generating cluster insights", "logger": "src.app.pipeline.orchestrator", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:43"}
2025-12-19 02:04:43 - src.app.pipeline.orchestrator - INFO - Completed standalone analysis in 0.0ms
{"timestamp": "2025-12-19T02:04:43Z", "level": "INFO", "message": "Completed standalone analysis in 0.0ms", "logger": "src.app.pipeline.orchestrator", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:43"}
2025-12-19 02:04:43 - src.app.handler - INFO - Completed job job_20251219020439_1769 in 0.0ms
{"timestamp": "2025-12-19T02:04:43Z", "level": "INFO", "message": "Completed job job_20251219020439_1769 in 0.0ms", "logger": "src.app.handler", "requestId": "1e97ea1a-5307-40f1-9fbc-5d35c60eb959", "aws_region": "us-east-1", "lambda_function": "TextAnalysisFunction", "lambda_version": "$LATEST", "asctime": "2025-12-19 02:04:43"}
END RequestId: 1e97ea1a-5307-40f1-9fbc-5d35c60eb959
REPORT RequestId: 1e97ea1a-5307-40f1-9fbc-5d35c60eb959	Duration: 4238.57 ms	Billed Duration: 4239 ms	Memory Size: 1024 MB	Max Memory Used: 1024 MB	

2025-12-19 15:04:43 127.0.0.1 - - [19/Dec/2025 15:04:43] "POST /analyze HTTP/1.1" 200 -
